<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Python for Official Statistics: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/cp/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/cp/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/cp/favicon-16x16.png">
<link rel="manifest" href="../favicons/cp/site.webmanifest">
<link rel="mask-icon" href="../favicons/cp/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav carpentries"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="cp-logo" alt="The Carpentries" src="../assets/images/carpentries-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav carpentries" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="The Carpentries" src="../assets/images/carpentries-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Python for Official Statistics
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Python for Official Statistics
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Python for Official Statistics
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress carpentries">
    <div class="progress-bar carpentries" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Introduction</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-python_fundamentals.html">2. Python Fundamentals</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-lists_dictionaries.html">3. List and Dictionary Methods</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-data_transformation.html">4. Data Transformation</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-data_visualisation.html">5. Visualizations</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-loops.html">6. Loops and Conditional Logic</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-apis.html">7. Fetching data from APIs</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="08-functions.html">8. Creating Functions</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09-errors_exceptions.html">9. Errors and Exceptions</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-introduction"><p>Content from <a href="01-introduction.html">Introduction</a></p>
<hr>
<p>Last updated on 2024-12-11 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/01-introduction.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 15 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is programming?</li>
<li>How do I document code?</li>
<li>How do I find reliable and safe resources or code online?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>identify basic concepts in programming</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="programming-in-python">Programming in Python<a class="anchor" aria-label="anchor" href="#programming-in-python"></a>
</h2>
<hr class="half-width">
<p>In most general terms, programming is the process of writing
instructions for a computer. In this course we will be using Python as
the language to communicate with the computer.</p>
<blockquote>
<p>Strictly speaking, Python is an interpreted language, rather than a
compiled language, meaning we are not communicating directly with the
computer when we use Python. When we run Python code, our Python source
code is first translated into byte code, which is then executed by the
Python virtual machine.</p>
</blockquote>
<p>Programming is a wide topic including a variety of techniques and
tools. In this course we’ll be focusing on programming for statistical
analysis.</p>
<div class="section level3">
<h3 id="ides">IDEs<a class="anchor" aria-label="anchor" href="#ides"></a>
</h3>
<p>IDE stands for Integrated Development Environment. IDEs are where you
will write, edit, and debug python scripts, so you want to choose one
that makes you feel comfortable and includes the functionality that you
need. Some open-source IDEs for Python include <a href="https://jupyter.org/" class="external-link">JupyterLab</a> and <a href="https://code.visualstudio.com/docs/languages/python" class="external-link">Visual Studio
Code</a>.</p>
</div>
<div class="section level3">
<h3 id="packages">Packages<a class="anchor" aria-label="anchor" href="#packages"></a>
</h3>
<p>Packages, or libraries, are extensions to the statistical programming
language. They contain code, data, and documentation in a standardised
collection format that can be installed by users, typically via a
centralised software repository. A typical Python workflow will use base
Python (the core operations and functions provided by your Python
installation) as well as specialised data analysis and scientific
packages like <a href="https://numpy.org/" class="external-link">NumPy</a>, <a href="https://scipy.org/" class="external-link">SciPy</a> and <a href="https://pandas.pydata.org/" class="external-link">Pandas</a>.</p>
</div>
</section><section><h2 class="section-heading" id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h2>
<hr class="half-width">
<p>Let’s overview some base concepts that any programmer should always
keep in mind.</p>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h3>
<p>Have you ever returned to a task and tried to read a note that you
quickly scrawled for yourself the last time you were working on it? Have
you ever inherited a project from a colleague and found you have no idea
what remains to be done?</p>
<p>It can be very challenging to return to your own work or a
colleague’s and this goes doubly for programming. Documentation is one
way we can reduce the burden on future selves and our colleagues.</p>
<div class="section level4">
<h4 id="inline-documentation">Inline Documentation<a class="anchor" aria-label="anchor" href="#inline-documentation"></a>
</h4>
<p>As a new programmer, inline documentation can be the most helpful.
Inline documentation refers to writing comments on the same line as your
code. For example, if we wrote a line of code to sum 1+1, we might
document it as follows:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="dv">1</span><span class="op">+</span><span class="dv">1</span>         <span class="co"># adding the numbers 1 and 1 together.</span></span></code></pre>
</div>
<p>Although this is a very simple line of code and it might seem like
overkill to document it in this way, these types of comments can be very
helpful in jogging your memory when returning to a project. Inline
comments can also help you to break multi-step programs into digestible
and readable pieces.</p>
</div>
<div class="section level4">
<h4 id="external-documentation">External Documentation<a class="anchor" aria-label="anchor" href="#external-documentation"></a>
</h4>
<p>Sometimes you require more detail than you can comfortably fit in
your inline documentation. In this case it can be helpful to create
separate files to document your project. This type of documentation will
typically focus on the goals, scope, and any special instructions
relating to your project rather than the details fo your code. The most
common type of external documentation is a README file. It is best
practice to create a basic README file for any project. A basic README
should include:</p>
<ul>
<li>a brief description of the project,</li>
<li>any special instructions for installation or use,</li>
<li>the authors and any references.</li>
</ul>
<p>README files are just text files and it is best practice is to save
your README file as a <code>README.md</code> markdown document. This
file format is automatically recognised by code repositories like
GitHub, so your README contents are displayed alongside your code
repository.</p>
</div>
<div class="section level4">
<h4 id="docstrings">DocStrings<a class="anchor" aria-label="anchor" href="#docstrings"></a>
</h4>
<p>In <a href="07-functions.html">chapter 7: functions</a> we’ll learn
about documentation specific to functions known as DocStrings.</p>
</div>
</div>
</section><section><h2 class="section-heading" id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<hr class="half-width">
<p>Later on, in <a href="10-errors_exceptions.html">chapter 10: Errors
and Exceptions</a> we will cover errors in more detail. However, before
we get there it’s very likely you’ll need some assistance writing Python
code.</p>
<div class="section level3">
<h3 id="built-in-help">Built-in Help<a class="anchor" aria-label="anchor" href="#built-in-help"></a>
</h3>
<p>There is a <a href="https://docs.python.org/3/library/functions.html#help" class="external-link">help
function</a> built into base Python. You can use it to investigate
built-in functions, data types, and more. For example, say we want to
know more about the print() function in Python:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">help</span>(<span class="bu">print</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on built-in function print in module builtins:

print(...)
    print(value, ..., sep=' ', end='\n', file=sys.stdout, flush=False)

    Prints the values to a stream, or to sys.stdout by default.
    Optional keyword arguments:
    file:  a file-like object (stream); defaults to the current sys.stdout.
    sep:   string inserted between values, default a space.
    end:   string appended after the last value, default a newline.
-- More  --</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="finding-resources-online">Finding Resources online<a class="anchor" aria-label="anchor" href="#finding-resources-online"></a>
</h3>
<p><a href="https://stackoverflow.com/" class="external-link">Stack Overflow</a> is a valuable
resource for programmers of all levels. It can be daunting to post your
own question! Fortunately, chances are someone else has already asked a
similar question!</p>
<p><a href="https://www.python.org/" class="external-link">The Official Python
Documentation</a> is another great resource.</p>
<p>It can also be helpful to do a general search for a particular topic
or error message. It’s very likely the first few results will be from
StackOverflow, followed by a few from official documentation and then
you may start seeing results from personal blogs or third parties. These
third party results can sometime be valuable but we should be cautious!
Here are a few things to keep in mind when you are looking for online
resources:</p>
<ol style="list-style-type: decimal">
<li>Don’t download or install anything unless you are certain of what it
is and why you need it.</li>
<li>Don’t copy or run code unless you fully understand what it
does.</li>
<li>Python is an open-source language; official documentation and
resources will not be behind a paywall.</li>
<li>You may not find a resource or solution to fit your exact needs. Try
to be flexible and adapt online solutions to fit your needs.</li>
</ol>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Python is an interpreted language.</li>
<li>Code is commonly developed inside an integrated development
environment.</li>
<li>A typical Python workflow uses base Python and additional Python
packages developed for statistical programming purposes.</li>
<li>In-line and external documentation helps ensure that your code is
readable.</li>
<li>You can find help through the built-in help function and external
resources.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-02-python_fundamentals"><p>Content from <a href="02-python_fundamentals.html">Python Fundamentals</a></p>
<hr>
<p>Last updated on 2024-07-11 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/02-python_fundamentals.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What basic data types can I work with in Python?</li>
<li>How can I create a new variable in Python?</li>
<li>How do I use a function?</li>
<li>Can I change the value associated with a variable after I create
it?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Assign values to variables.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="variables">Variables<a class="anchor" aria-label="anchor" href="#variables"></a>
</h2>
<hr class="half-width">
<p>Any Python interpreter can be used as a calculator:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="dv">3</span> <span class="op">+</span> <span class="dv">5</span> <span class="op">*</span> <span class="dv">4</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">23</span></span></code></pre>
</div>
<p>This is great but not very interesting. To do anything useful with
data, we need to assign its value to a <em>variable</em>. In Python, we
can <a href="reference.html#assign">assign</a> a value to a <a href="reference.html#variable">variable</a>, using the equals sign
<code>=</code>. For example, we can track the weight of a patient who
weighs 60 kilograms by assigning the value <code>60</code> to a variable
<code>weight_kg</code>:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>weight_kg <span class="op">=</span> <span class="dv">60</span></span></code></pre>
</div>
<p>From now on, whenever we use <code>weight_kg</code>, Python will
substitute the value we assigned to it. In layperson’s terms, <strong>a
variable is a name for a value</strong>.</p>
<p>In Python, variable names:</p>
<ul>
<li>can include letters, digits, and underscores</li>
<li>cannot start with a digit</li>
<li>are <a href="reference.html#case-sensitive">case sensitive</a>.</li>
</ul>
<p>This means that, for example:</p>
<ul>
<li>
<code>weight0</code> is a valid variable name, whereas
<code>0weight</code> is not</li>
<li>
<code>weight</code> and <code>Weight</code> are different
variables</li>
</ul></section><section><h2 class="section-heading" id="types-of-data">Types of data<a class="anchor" aria-label="anchor" href="#types-of-data"></a>
</h2>
<hr class="half-width">
<p>Python knows various types of data. Three common ones are:</p>
<ul>
<li>integer numbers</li>
<li>floating point numbers, and</li>
<li>strings.</li>
</ul>
<p>In the example above, variable <code>weight_kg</code> has an integer
value of <code>60</code>. If we want to more precisely track the weight
of our patient, we can use a floating point value by executing:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>weight_kg <span class="op">=</span> <span class="fl">60.3</span></span></code></pre>
</div>
<p>To create a string, we add single or double quotes around some text.
To identify and track a patient throughout our study, we can assign each
person a unique identifier by storing it in a string:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>patient_id <span class="op">=</span> <span class="st">'001'</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="using-variables-in-python">Using Variables in Python<a class="anchor" aria-label="anchor" href="#using-variables-in-python"></a>
</h2>
<hr class="half-width">
<p>Once we have data stored with variable names, we can make use of it
in calculations. We may want to store our patient’s weight in pounds as
well as kilograms:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>weight_lb <span class="op">=</span> <span class="fl">2.2</span> <span class="op">*</span> weight_kg</span></code></pre>
</div>
<p>We might decide to add a prefix to our patient identifier:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>patient_id <span class="op">=</span> <span class="st">'inflam_'</span> <span class="op">+</span> patient_id</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="built-in-python-functions">Built-in Python functions<a class="anchor" aria-label="anchor" href="#built-in-python-functions"></a>
</h2>
<hr class="half-width">
<p>To carry out common tasks with data and variables in Python, the
language provides us with several built-in <a href="reference.html#function">functions</a>. To display information to
the screen, we use the <code>print</code> function:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="bu">print</span>(weight_lb)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="bu">print</span>(patient_id)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">132.66</span></span>
<span><span class="va">inflam_001</span></span></code></pre>
</div>
<p>When we want to make use of a function, referred to as calling the
function, we follow its name by parentheses. The parentheses are
important: if you leave them off, the function doesn’t actually run!
Sometimes you will include values or variables inside the parentheses
for the function to use. In the case of <code>print</code>, we use the
parentheses to tell the function what value we want to display. We will
learn more about how functions work and how to create our own in later
episodes.</p>
<p>We can display multiple things at once using only one
<code>print</code> call:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="bu">print</span>(patient_id, <span class="st">'weight in kilograms:'</span>, weight_kg)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>inflam_001 weight in kilograms: 60.3</code></pre>
</div>
<p>We can also call a function inside of another <a href="reference.html#function-call">function call</a>. For example,
Python has a built-in function called <code>type</code> that tells you a
value’s data type:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(<span class="fl">60.3</span>))</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(patient_id))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'float'&gt;
&lt;class 'str'&gt;</code></pre>
</div>
<p>Moreover, we can do arithmetic with variables right inside the
<code>print</code> function:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'weight in pounds:'</span>, <span class="fl">2.2</span> <span class="op">*</span> weight_kg)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>weight in pounds: 132.66</code></pre>
</div>
<p>The above command, however, did not change the value of
<code>weight_kg</code>:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="bu">print</span>(weight_kg)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">60.3</span></span></code></pre>
</div>
<p>To change the value of the <code>weight_kg</code> variable, we have
to <strong>assign</strong> <code>weight_kg</code> a new value using the
equals <code>=</code> sign:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>weight_kg <span class="op">=</span> <span class="fl">65.0</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'weight in kilograms is now:'</span>, weight_kg)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>weight in kilograms is now: 65.0</code></pre>
</div>
<div id="variables-as-sticky-notes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="variables-as-sticky-notes" class="callout-inner">
<h3 class="callout-title">Variables as Sticky Notes</h3>
<div class="callout-content">
<p>A variable in Python is analogous to a sticky note with a name
written on it: assigning a value to a variable is like putting that
sticky note on a particular value.</p>
<figure><img src="../fig/python-sticky-note-variables-01.svg" alt="Value of 65.0 with weight_kg label stuck on it" class="figure mx-auto d-block"></figure><p>Using this analogy, we can investigate how assigning a value to one
variable does <strong>not</strong> change values of other, seemingly
related, variables. For example, let’s store the subject’s weight in
pounds in its own variable:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="co"># There are 2.2 pounds per kilogram</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>weight_lb <span class="op">=</span> <span class="fl">2.2</span> <span class="op">*</span> weight_kg</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'weight in kilograms:'</span>, weight_kg, <span class="st">'and in pounds:'</span>, weight_lb)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>weight in kilograms: 65.0 and in pounds: 143.0</code></pre>
</div>
<p>Everything in a line of code following the ‘#’ symbol is a <a href="reference.html#comment">comment</a> that is ignored by Python.
Comments allow programmers to leave explanatory notes for other
programmers or their future selves.</p>
<figure><img src="../fig/python-sticky-note-variables-02.svg" alt="Value of 65.0 with weight_kg label stuck on it, and value of 143.0 with weight_lb label stuck on it" class="figure mx-auto d-block"></figure><p>Similar to above, the expression <code>2.2 * weight_kg</code> is
evaluated to <code>143.0</code>, and then this value is assigned to the
variable <code>weight_lb</code> (i.e. the sticky note
<code>weight_lb</code> is placed on <code>143.0</code>). At this point,
each variable is “stuck” to completely distinct and unrelated
values.</p>
<p>Let’s now change <code>weight_kg</code>:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>weight_kg <span class="op">=</span> <span class="fl">100.0</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'weight in kilograms is now:'</span>, weight_kg, <span class="st">'and weight in pounds is still:'</span>, weight_lb)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>weight in kilograms is now: 100.0 and weight in pounds is still: 143.0</code></pre>
</div>
<figure><img src="../fig/python-sticky-note-variables-03.svg" alt="Value of 100.0 with label weight_kg stuck on it, and value of 143.0 with label weight_lbstuck on it" class="figure mx-auto d-block"></figure><p>Since <code>weight_lb</code> doesn’t “remember” where its value comes
from, it is not updated when we change <code>weight_kg</code>.</p>
</div>
</div>
</div>
<div id="check-your-understanding" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="check-your-understanding" class="callout-inner">
<h3 class="callout-title">Check Your Understanding</h3>
<div class="callout-content">
<p>What values do the variables <code>mass</code> and <code>age</code>
have after each of the following statements? Test your answer by
executing the lines.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>mass <span class="op">=</span> <span class="fl">47.5</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>age <span class="op">=</span> <span class="dv">122</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>mass <span class="op">=</span> mass <span class="op">*</span> <span class="fl">2.0</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>age <span class="op">=</span> age <span class="op">-</span> <span class="dv">20</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`mass` holds a value of 47.5, `age` does not exist
`mass` still holds a value of 47.5, `age` holds a value of 122
`mass` now has a value of 95.0, `age`'s value is still 122
`mass` still has a value of 95.0, `age` now holds 102</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="sorting-out-references" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="sorting-out-references" class="callout-inner">
<h3 class="callout-title">Sorting Out References</h3>
<div class="callout-content">
<p>Python allows you to assign multiple values to multiple variables in
one line by separating the variables and values with commas. What does
the following program print out?</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>first, second <span class="op">=</span> <span class="st">'Grace'</span>, <span class="st">'Hopper'</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>third, fourth <span class="op">=</span> second, first</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="bu">print</span>(third, fourth)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Hopper Grace</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="seeing-data-types" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="seeing-data-types" class="callout-inner">
<h3 class="callout-title">Seeing Data Types</h3>
<div class="callout-content">
<p>What are the data types of the following variables?</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>planet <span class="op">=</span> <span class="st">'Earth'</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>apples <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>distance <span class="op">=</span> <span class="fl">10.5</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(planet))</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(apples))</span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(distance))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'str'&gt;
&lt;class 'int'&gt;
&lt;class 'float'&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Basic data types in Python include integers, strings, and
floating-point numbers.</li>
<li>Use <code>variable = value</code> to assign a value to a variable in
order to record it in memory.</li>
<li>Variables are created on demand whenever a value is assigned to
them.</li>
<li>Use <code>print(something)</code> to display the value of
<code>something</code>.</li>
<li>Use <code># some kind of explanation</code> to add comments to
programs.</li>
<li>Built-in functions are always available to use.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-03-lists_dictionaries"><p>Content from <a href="03-lists_dictionaries.html">List and Dictionary Methods</a></p>
<hr>
<p>Last updated on 2024-12-10 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/03-lists_dictionaries.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 40 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I store many values together?</li>
<li>How can I create a list succinctly?</li>
<li>How can I efficiently access nested data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Identify and create lists and dictionaries</li>
<li>Understand the properties and behaviours of lists and
dictionaries</li>
<li>Access values in lists and dictionaries</li>
<li>Create and access values from nest lists and dictionaries</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Values can also be stored in other Python data types such as lists,
dictionaries, sets and tuples. Storing objects in a list is a fast and
versatile way to apply transformations across a sequence of values.
Storing objects in dictionary as key-value pairs is useful for
extracting specific values i.e. performing lookup operations.</p>
<section><h2 class="section-heading" id="create-and-access-lists">Create and access lists<a class="anchor" aria-label="anchor" href="#create-and-access-lists"></a>
</h2>
<hr class="half-width">
<p>Lists have the following properties and behaviours:</p>
<ul>
<li>A single list can store different primitive object types and even
other lists</li>
<li>Lists are ordered and have a 0-based index</li>
<li>Lists can be appended to using the methods <code>append()</code> or
<code>insert()</code>
</li>
<li>Values inside a list can be removed using the methods
<code>remove()</code> or <code>pop()</code>
</li>
<li>Two lists can be concatenated with the operator <code>+</code>
</li>
<li>Values inside a list can be conditionally iterated through</li>
<li>A list is mutable i.e. the values inside a list can be modified in
place</li>
</ul>
<p>To create a list, values are contained within square brackets
i.e. <code>[]</code> and individually separated by commas. The function
<code>list()</code> can also be used to create a list of values from an
iterable object like a string, set or tuple.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Create a list of integers using []</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>list_1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="bu">print</span>(list_1)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1, 3, 5, 7]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Unlike atomic vectors in R, a list can contain multiple primitive object types</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>list_2 <span class="op">=</span> [<span class="dv">1</span>, <span class="st">"one"</span>, <span class="fl">1.0</span>, <span class="va">True</span>]</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="bu">print</span>(list_2)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1, 'one', 1.0, True]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># You can also use list() on an iterable object to convert it into a list</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>string <span class="op">=</span> <span class="st">'abcdefg'</span>  </span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>list_3 <span class="op">=</span> <span class="bu">list</span>(string)  </span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="bu">print</span>(list_3)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['a', 'b', 'c', 'd', 'e', 'f', 'g']</code></pre>
</div>
<p>Because lists have a 0-based index, we can access individual values
by their list index position. For 0-based indexes, the first value
always starts at position 0 i.e. the first element has an index of 0.
Accessing multiple values by their index positions is also referred to
as slicing or subsetting a list.</p>
<p>Note that we can use negative numbers as indices in Python. When we
do so, the index <code>-1</code> gives us the last element in the list,
<code>-2</code> gives us the second to last element in the list, and so
on.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Extract individual values from list_3</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'first value:'</span>, list_3[<span class="dv">0</span>])</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'second value:'</span>, list_3[<span class="dv">1</span>])</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last value:'</span>, list_3[<span class="op">-</span><span class="dv">1</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>first value: a
second value: b
last value: g</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># A syntax quirk for slicing values is to +1 to the last value's index </span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="co"># To extract from index 0 to 2, we need to slice from [0:2+1] or [0:3]</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co"># Extract the first three values from list_3</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'first 3 values:'</span>, list_3[<span class="dv">0</span>:<span class="dv">3</span>])</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="co"># Start from index 0 and extract values from each subsequent second position</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'every second value:'</span>, list_3[<span class="dv">0</span>::<span class="dv">2</span>])</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="co"># Start from index 1, end at index 3 and extract from each subsequent second position</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'every second value from index 1 to 3:'</span>, list_3[<span class="dv">1</span>:<span class="dv">4</span>:<span class="dv">2</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>first 3 values: ['a', 'b', 'c']
every second value: ['a', 'c', 'e', 'g']
every second value from index 1 to 3: ['b', 'd']</code></pre>
</div>
</section><section><h2 class="section-heading" id="change-list-values">Change list values<a class="anchor" aria-label="anchor" href="#change-list-values"></a>
</h2>
<hr class="half-width">
<p>Data which can be modified in place is called mutable, while data
which cannot be modified is called immutable. Strings and numbers are
immutable in that when we want to change the value of a string or number
variable, we can only replace the old value with a completely new
value.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>string <span class="op">=</span> <span class="st">'abcde'</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>string[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'b'</span> <span class="co"># Produces a type error as strings are immutable</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co"># TypeError: 'str' object does not support item assignment</span></span></code></pre>
</div>
<p>In contrast, lists are mutable and we can modify them after they have
been created. We can change individual values, append new values, or
reorder the whole list through sorting.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>list_4 <span class="op">=</span> [<span class="st">'apple'</span>, <span class="st">'pear'</span>, <span class="st">'plum'</span>]</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'original list_4:'</span>, list_4)</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="co"># Change the first value i.e. modify the list in place</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>list_4[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'banana'</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'modified list_4:'</span>, list_4)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="co"># Add new value to list using the method .insert(index number, value)</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>list_4.insert(<span class="dv">1</span>, <span class="st">'apple'</span>) <span class="co"># Index 1 refers to the second position</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'appended list_4:'</span>, list_4)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>original list_4: ['apple', 'pear', 'plum']
modified list_4: ['banana', 'pear', 'plum']
appended list_4: ['banana', 'apple', 'pear', 'plum']</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Sorting a list also modifies it in place</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>list_5 <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>]</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>list_5.sort()</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'list_5:'</span>, list_5)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>list_5: [1, 2, 3, 7]</code></pre>
</div>
<p>However, be careful when modifying data in-place. If two variables
refer to the same list, and you modify the list value, it will change
for both variables!</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># When we assign list_6 to list_5, it means both list_6 and list_5 point to the</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="co"># same list object, not that list_6 is a copy of list_5.  </span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>list_6 <span class="op">=</span> list_5  </span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'list_5:'</span>, list_5)</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'list_6:'</span>, list_6)</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="co"># Change the first value in list_6 from 1 to 2 </span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>list_6[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">2</span> </span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'modified list_6:'</span>, list_6)</span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'unmodified list_5:'</span>, list_5)</span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a><span class="co"># Warning: list_5 and list_6 have both been modified in place!</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>list_5: [1, 2, 3, 7]
list_6: [1, 2, 3, 7]
modified list_6: [2, 2, 3, 7]
unmodified list_5: [2, 2, 3, 7]</code></pre>
</div>
<p>Because of this behaviour, code which modifies data in place should
be handled with care. You can also avoid this behaviour by expliciting
creating a copy of the original list and modifying only the object copy.
This is why creating a copy of the original data object can be useful in
Python.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>list_5 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>]</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>list_7 <span class="op">=</span> list_5.copy()  </span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'list_5:'</span>, list_5)</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'list_7:'</span>, list_7)</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="co"># As list_7 is a completely new object copied from list_5, modifying list_7 does</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="co"># not affect list_5.  </span></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>list_7[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">2</span> </span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'modified list_7:'</span>, list_7)</span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'unmodified list_5:'</span>, list_5)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>list_5: [1, 2, 3, 7]
list_7: [1, 2, 3, 7]
modified list_7: [2, 2, 3, 7]
unmodified list_5: [1, 2, 3, 7]</code></pre>
</div>
</section><section><h2 class="section-heading" id="useful-list-functions">Useful list functions<a class="anchor" aria-label="anchor" href="#useful-list-functions"></a>
</h2>
<hr class="half-width">
<p>There are a lot of functions and methods which can be applied to
lists, such as <code>len()</code>, <code>max()</code>,
<code>index()</code> and so forth. Mathematical operations do not work
on lists of integers, with the exception of <code>+</code>.</p>
<p>Note that <code>+</code> concatenates two lists into a single longer
list, rather than outputting the sum of two lists of numbers.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>list_8 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>list_9 <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>list_8 <span class="op">+</span> list_9 <span class="co"># This concatenates the lists and does not sum the two lists together</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1, 2, 3, 4, 5, 6]</code></pre>
</div>
<p>In your spare time after this workshop, you can search for different
list functions and methods and test them out yourselves.</p>
</section><section><h2 class="section-heading" id="nested-lists">Nested lists<a class="anchor" aria-label="anchor" href="#nested-lists"></a>
</h2>
<hr class="half-width">
<p>We have previously mentioned that lists can be used to store other
Python object types, including lists. This means that we can create
nested lists in Python i.e. lists containing lists containing values.
This property is useful when we have a collection of values that we want
to access or transform as a subgroup.</p>
<p>To create a nested list, we also use <code>[]</code> or
<code>list()</code> to contain one or more lists of values of
interest.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>veg_stock <span class="op">=</span> [</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>    [<span class="st">'lettuce'</span>, <span class="st">'lettuce'</span>, <span class="st">'tomato'</span>, <span class="st">'zucchini'</span>],</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>    [<span class="st">'lettuce'</span>, <span class="st">'lettuce'</span>, <span class="st">'carrot'</span>, <span class="st">'zucchini'</span>],</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>    [<span class="st">'lettuce'</span>, <span class="st">'basil'</span>, <span class="st">'tomato'</span>, <span class="st">'zucchini'</span>]</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>    ]</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="co"># Check that veg_stock is a list object</span></span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(veg_stock))</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a><span class="co"># Check that the first value in veg_stock is itself a list</span></span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a><span class="bu">print</span>(veg_stock[<span class="dv">0</span>], <span class="st">'has type'</span>, <span class="bu">type</span>(veg_stock[<span class="dv">0</span>]))  </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'list'&gt;
['lettuce', 'lettuce', 'tomato', 'zucchini'] has type &lt;class 'list'&gt;</code></pre>
</div>
<p>To extract the first sub-list within the <code>veg_stock</code> list
object, we refer to its index like we would with any other value inside
a list i.e. <code>veg_stock[1]</code> points to the second sub-list
within the <code>veg_stock</code> list.</p>
<p>To access an individual string value inside a sub-list, we make use
of a second index, which points to an individual value inside the
sub-list.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="bu">print</span>(veg_stock[<span class="dv">0</span>]) <span class="co"># Access the first sub-list </span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="bu">print</span>(veg_stock[<span class="dv">0</span>][<span class="dv">0</span>]) <span class="co"># Access the first value in the first sub-list </span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(veg_stock[<span class="dv">0</span>])) <span class="co"># The first value in veg_stock is a list</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(veg_stock[<span class="dv">0</span>][<span class="dv">0</span>])) <span class="co"># The first value in the first list in veg_stock is a string</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['lettuce', 'lettuce', 'tomato', 'zucchini']
lettuce
&lt;class 'list'&gt;
&lt;class 'str'&gt;</code></pre>
</div>
<p>In general, however, when we are analysing a large collection of
values, the best practice is to structure those values in columns and
rows as a tabular Pandas data frame object. This is covered in another
Carpentries Course called <a href="https://datacarpentry.org/python-socialsci/08-Pandas.html" class="external-link">Python
for Social Sciences</a>.</p>
<p>Lists are still incredibly versatile and useful when you have a
collection of values that need to be efficiently accessed or
transformed. For example, data frame column names are commonly extracted
and stored inside a list, so that the same transformation can then be
mapped across multiple columns.</p>
</section><section><h2 class="section-heading" id="create-and-access-dictionaries">Create and access dictionaries<a class="anchor" aria-label="anchor" href="#create-and-access-dictionaries"></a>
</h2>
<hr class="half-width">
<p>A dictionary is a Python data type that is particularly suited for
enabling quick lookup operations on unstructured data sets.</p>
<p>A dictionary can therefore be thought of as an unordered list where
every item or value is associated with a unique key (i.e. a self-defined
index of unique strings or numbers). The index values are called keys
and a dictionary contains key-value pairs with the format
<code>{key: value(s)}</code>.</p>
<p>Dictionaries can be created by listing individual key-values pairs
inside <code>{}</code> or using <code>dict()</code>.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="co"># A key-value pair can contain single or multiple values  </span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="co"># Keys are treated as case sensitive and unique</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="co"># Multiple values are first stored inside a list  </span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>teams <span class="op">=</span> {</span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>    <span class="st">'data science'</span>: [<span class="st">'Mei Ling'</span>, <span class="st">'Paul'</span>, <span class="st">'Gwen'</span>, <span class="st">'Suresh'</span>],</span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a>    <span class="st">'user design'</span>: [<span class="st">'Amy'</span>, <span class="st">'Linh'</span>, <span class="st">'Sasha'</span>],</span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a>    <span class="st">'software dev'</span>: [<span class="st">'David'</span>, <span class="st">'Prya'</span>],</span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a>    <span class="st">'comms'</span>: <span class="st">'Taylor'</span> </span>
<span id="cb26-10"><a href="#cb26-10" tabindex="-1"></a>    } </span></code></pre>
</div>
<p>When using <code>dict()</code>, we need to indicate which key is
associated with which value. This can be done directly using tuples,
direct association i.e. using <code>=</code> or using
<code>zip()</code>, which creates a set of tuples from an iterable
list.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># To use dict(), key-value pairs are can be stored inside tuples  </span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>ds_emp_status <span class="op">=</span> <span class="bu">dict</span>([</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>        (<span class="st">'Mei Ling'</span>, <span class="st">'full time'</span>),</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>        (<span class="st">'Paul'</span>, <span class="st">'full time'</span>),</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>        (<span class="st">'Gwen'</span>, <span class="st">'part time'</span>),</span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>        (<span class="st">'Suresh'</span>, <span class="st">'part time'</span>)</span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a>    ])  </span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a><span class="co"># Key-value pairs can also be assigned by direct association  </span></span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a><span class="co"># Keys cannot be strings i.e. wrapped in '' using this approach</span></span>
<span id="cb27-11"><a href="#cb27-11" tabindex="-1"></a>ud_emp_status <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb27-12"><a href="#cb27-12" tabindex="-1"></a>    Amy <span class="op">=</span> <span class="st">'full time'</span>,</span>
<span id="cb27-13"><a href="#cb27-13" tabindex="-1"></a>    Linh <span class="op">=</span> <span class="st">'full time'</span>,</span>
<span id="cb27-14"><a href="#cb27-14" tabindex="-1"></a>    Sasha <span class="op">=</span> <span class="st">'casual'</span> </span>
<span id="cb27-15"><a href="#cb27-15" tabindex="-1"></a>    ) </span>
<span id="cb27-16"><a href="#cb27-16" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" tabindex="-1"></a><span class="co"># zip() can also be used if each key has only one value  </span></span>
<span id="cb27-18"><a href="#cb27-18" tabindex="-1"></a>sd_emp_status <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(</span>
<span id="cb27-19"><a href="#cb27-19" tabindex="-1"></a>    [<span class="st">'David'</span>, <span class="st">'Prya'</span>],</span>
<span id="cb27-20"><a href="#cb27-20" tabindex="-1"></a>    [<span class="st">'full time'</span>, <span class="st">'full time'</span>]</span>
<span id="cb27-21"><a href="#cb27-21" tabindex="-1"></a>    ))</span></code></pre>
</div>
<p>To access a specific value inside a dictionary, we need to specify
its key using <code>[]</code>. This is similar to slicing or subsetting
a list by specifying its index using <code>[]</code>.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="co"># Access the values associated with the key 'data science'</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="bu">print</span>(teams[<span class="st">'data science'</span>])</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The object teams is of type'</span>, <span class="bu">type</span>(teams))</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The dict value'</span>, teams[<span class="st">'data science'</span>], <span class="st">'is of type'</span>, <span class="bu">type</span>(teams[<span class="st">'data science'</span>]))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['Mei Ling', 'Paul', 'Gwen', 'Suresh']
The data object teams is of type &lt;class 'dict'&gt;
The value ['Mei Ling', 'Paul', 'Gwen', 'Suresh'] is of type &lt;class 'list'&gt;</code></pre>
</div>
<p>We can also access a value from a dictionary using the
<code>get()</code> method.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="bu">print</span>(teams.get(<span class="st">'user design'</span>))</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="co"># get() also enables us to return an alternate string when the key is not found   </span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="co"># This prevents our code from returning an error message that halts the analysis</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="bu">print</span>(teams.get(<span class="st">'data engineering'</span>, <span class="st">'WARNING: key does not exist'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['Amy', 'Linh', 'Sasha']
WARNING: key does not exist</code></pre>
</div>
<p>To access data inside a dictionary, we can also perform the following
other actions:</p>
<ul>
<li>Check whether a key exists in a dictionary using the keyword
<code>in</code>
</li>
<li>Retrieve unique dictionary keys using <code>dict.keys()</code>
</li>
<li>Retrieve dictionary values using <code>dict.values()</code>
</li>
<li>Retrieve dictionary items using <code>dict.items()</code>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># Check whether a key exists in a dictionary </span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'data science'</span> <span class="kw">in</span> teams) </span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Data Science'</span> <span class="kw">in</span> teams) <span class="co"># Keys are case sensitive  </span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="co"># Retrieve all dictionary keys  </span></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="bu">print</span>(teams.keys())</span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a><span class="bu">print</span>(sd_emp_status.keys())</span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a><span class="co"># Retrieve all dictionary values  </span></span>
<span id="cb32-10"><a href="#cb32-10" tabindex="-1"></a><span class="bu">print</span>(sd_emp_status.values())  </span>
<span id="cb32-11"><a href="#cb32-11" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" tabindex="-1"></a><span class="co"># Retrieve all dictionary key-value pairs</span></span>
<span id="cb32-13"><a href="#cb32-13" tabindex="-1"></a><span class="bu">print</span>(sd_emp_status.items())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>True
False
dict_keys(['data science', 'user design', 'software dev', 'comms'])
dict_keys(['David', 'Prya'])
dict_values(['full time', 'full time'])
dict_items([('David', 'full time'), ('Prya', 'full time')])</code></pre>
</div>
<p>To add a new key-value pair to an existing dictionary, we can create
a new key and directly attach a new value to it using <code>=</code> or
alternatively use the method <code>update()</code>.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'original dict items:'</span>, sd_emp_status.items())  </span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="co"># Add new key-value pair using direct assignment  </span></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a>sd_emp_status[<span class="st">'Mohammad'</span>] <span class="op">=</span> <span class="st">'full time'</span></span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="co"># Add new key-value pair using update({'key': 'value'})   </span></span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a>sd_emp_status.update({<span class="st">'Carrie'</span>: <span class="st">'part time'</span>})</span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'updated dict items:'</span>, sd_emp_status.items())    </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>original dict items: dict_items([('David', 'full time'), ('Prya', 'full time')])
updated dict items: dict_items([('David', 'full time'), ('Prya', 'full time'),
('Mohammad', 'full time'), ('Carrie', 'part time')])</code></pre>
</div>
<p>Because keys are unique, a dictionary cannot contain two keys with
the same name. This means that adding an item using a key that is
already present in the dictionary will cause the previous value to be
overwritten.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'original dict items:'</span>, sd_emp_status.items())  </span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a><span class="co"># As the key 'Carrie' already exists, its value will be overwritten</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a>sd_emp_status[<span class="st">'Carrie'</span>] <span class="op">=</span> <span class="st">'full time'</span></span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'updated dict items:'</span>, sd_emp_status.items())  </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>original dict items: dict_items([('David', 'full time'), ('Prya', 'full time'),
('Mohammad', 'full time'), ('Carrie', 'part time')])
updated dict items: dict_items([('David', 'full time'), ('Prya', 'full time'),
('Mohammad', 'full time'), ('Carrie', 'full time')])</code></pre>
</div>
<p>To remove a key-value pair for an existing dictionary, we can use the
<code>del</code> keyword or the method <code>pop()</code>. Using
<code>pop()</code> also enables us to return an alternate string if we
trt to remove a non-existing key, which prevents our code from returning
an error message that halts the analysis.</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'original dict items:'</span>, sd_emp_status.items())</span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="co"># Delete dictionary keys using del and pop()</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="kw">del</span> sd_emp_status[<span class="st">'Mohammad'</span>]</span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a>sd_emp_status.pop(<span class="st">'Carrie'</span>)</span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a>sd_emp_status.pop(<span class="st">'Anuradha'</span>, <span class="st">'WARNING: key does not exist'</span>) <span class="co"># Does not generate an error</span></span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'modified dict items:'</span>, sd_emp_status.items())  </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>original dict items: dict_items([('David', 'full time'), ('Prya', 'full time'),
('Mohammad', 'full time'), ('Carrie', 'full time')])
modified dict items: dict_items([('David', 'full time'), ('Prya', 'full time')])</code></pre>
</div>
</section><section><h2 class="section-heading" id="nested-dictionaries">Nested dictionaries<a class="anchor" aria-label="anchor" href="#nested-dictionaries"></a>
</h2>
<hr class="half-width">
<p>Similar to lists, dictionaries can be nested as we can also store
dictionaries as values inside a key-value pair using <code>{}</code>.
Nested dictionaries are useful when we need to store unstructured data
in a complex structure. For example, JSON data is commonly used for
transmitting data in web applications and often exists in a nested
structure that can be stored using nested dictionaries in Python.</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="co"># Individual dictionaries are enclosed in {} and separated by a comma</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a>nested_dict <span class="op">=</span> {</span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a>    <span class="st">'dict_1'</span>: { <span class="co"># First key is a dictionary of key-value pairs </span></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a>        <span class="st">'key_1a'</span>: <span class="st">'value_1a'</span>,</span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a>        <span class="st">'key_1b'</span>: <span class="st">'value_1b'</span></span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a>                },</span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a>    <span class="st">'dict_2'</span>: { <span class="co"># Second key is another dictionary of key-value pairs</span></span>
<span id="cb40-8"><a href="#cb40-8" tabindex="-1"></a>        <span class="st">'key_2a'</span>: <span class="st">'value_2a'</span>,</span>
<span id="cb40-9"><a href="#cb40-9" tabindex="-1"></a>        <span class="st">'key_2b'</span>: <span class="st">'value_2b'</span></span>
<span id="cb40-10"><a href="#cb40-10" tabindex="-1"></a>                }</span>
<span id="cb40-11"><a href="#cb40-11" tabindex="-1"></a>            }</span>
<span id="cb40-12"><a href="#cb40-12" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" tabindex="-1"></a><span class="bu">print</span>(nested_dict)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'dict_1': {'key_1a': 'value_1a', 'key_1b': 'value_1b'},
 'dict_2': {'key_2a': 'value_2a', 'key_2b': 'value_2b'}}</code></pre>
</div>
<p>Similar to working with nested lists, to extract a value from the
first sub-dictionary, we specify both the main dictionary and
sub-dictionary keys using <code>[]</code>.</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="co"># Extract the value for key 2a in dict_2</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'original value:'</span>, nested_dict[<span class="st">'dict_2'</span>][<span class="st">'key_2a'</span>])</span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a><span class="co"># Adding or updating a value can be done through the same approach</span></span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a>nested_dict[<span class="st">'dict_2'</span>][<span class="st">'key_2a'</span>] <span class="op">=</span> <span class="st">"modified_value_2a"</span>  </span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'modified value:'</span>, nested_dict[<span class="st">'dict_2'</span>][<span class="st">'key_2a'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>original value: value_2a
modified value: modified_value_2a</code></pre>
</div>
</section><section><h2 class="section-heading" id="optional-converting-lists-and-dictionaries-to-pandas-data-frames">Optional: converting lists and dictionaries to Pandas data
frames<a class="anchor" aria-label="anchor" href="#optional-converting-lists-and-dictionaries-to-pandas-data-frames"></a>
</h2>
<hr class="half-width">
<p>Lists and dictionaries can be easily converted into a tabular Pandas
data frame format. This can be useful when you need to create a small
data set for unit testing purposes.</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="co"># Import pandas library</span></span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a><span class="co"># Create a dictionary with each key-value pair representing a data frame column</span></span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a>    <span class="st">'col_1'</span>: [<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>],</span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a>    <span class="st">'col_2'</span>: [<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'d'</span>]</span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a>    }</span>
<span id="cb44-9"><a href="#cb44-9" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame.from_dict(data) </span>
<span id="cb44-11"><a href="#cb44-11" tabindex="-1"></a></span>
<span id="cb44-12"><a href="#cb44-12" tabindex="-1"></a><span class="bu">print</span>(df) <span class="co"># Outputs data as a tabular Pandas data frame   </span></span>
<span id="cb44-13"><a href="#cb44-13" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(df))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   col_1 col_2
0      3     a
1      2     b
2      1     c
3      0     d
&lt;class 'pandas.core.frame.DataFrame'&gt;</code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Lists can contain any Python object including other lists</li>
<li>Lists are ordered i.e. indexed and can therefore be sliced by index
number</li>
<li>Unlike strings and integers, the values inside a list can be
modified in place</li>
<li>A list which contains other lists is referred to as a nested
list</li>
<li>Dictionaries behave like unordered lists and are defined using
key-value pairs</li>
<li>Dictionary keys are unique</li>
<li>A dictionary which contains other dictionaries is referred to as a
nested dictionary</li>
<li>Values inside nested lists and dictionaries can be accessed by an
additional index</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-04-data_transformation"><p>Content from <a href="04-data_transformation.html">Data Transformation</a></p>
<hr>
<p>Last updated on 2024-12-11 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/04-data_transformation.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 120 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I process tabular data files in Python?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain what a library is and what libraries are used for.</li>
<li>Import a Python library and use the functions it contains.</li>
<li>Read tabular data from a file into a program.</li>
<li>Clean and prepare data.</li>
<li>Merge and reshape data.</li>
<li>Handle missing values.</li>
<li>Aggregate and summarize data.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="what-is-a-packagelibrary-in-python">What is a Package/Library in Python?<a class="anchor" aria-label="anchor" href="#what-is-a-packagelibrary-in-python"></a>
</h3>
<p>In Python, a <a href="../(../learners/reference.html#library)">library</a> (or package) is
a collection of pre-written code that you can use to perform common
tasks without needing to write the code from scratch. It’s a toolbox
that provides tools (functions, classes, and modules) to help you solve
specific problems.</p>
<p>Python packages save time and effort by providing solutions to common
programming challenges. Instead of reinventing the wheel, you can
<code>import</code> these tools into your scripts and use them to
complete tasks more easily.</p>
</div>
<div class="section level3">
<h3 id="a-python-package-for-data-manipulations-pandas">A Python package for data manipulations: <code>pandas</code>
<a class="anchor" aria-label="anchor" href="#a-python-package-for-data-manipulations-pandas"></a>
</h3>
<p>In this lesson, we will focus on using the
<strong><code>pandas</code></strong> library in Python to perform common
data wrangling tasks.</p>
<p><code>pandas</code> is an open-source Python library for data
manipulation and analysis. It provides data structures like
<strong><code>DataFrame</code></strong> and
<strong><code>Series</code></strong> that make it easy to handle and
analyze data.</p>
<div class="section level4">
<h4 id="series">
<code>Series</code><a class="anchor" aria-label="anchor" href="#series"></a>
</h4>
<p>A <code>Series</code> is a one-dimensional labeled array, similar to
a list. It can hold any data type, such as integers, strings, or even
more complex data types.</p>
<p>Key Features:</p>
<ul>
<li>It’s one-dimensional, so it holds data in a single column.</li>
<li>It has an index (labels) that you can use to access specific
elements.</li>
<li>Each element in the Series has a label (index) and a value.</li>
</ul>
<p>Example of a <code>Series</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co"># Create a Series from a list</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>series <span class="op">=</span> pd.Series(data)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="co"># Print the Series</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="bu">print</span>(series)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0 10
1 20
2 30
3 40
4 50
dtype: int64</code></pre>
</div>
<p>The index is 0, 1, 2, 3, 4, and the values are 10, 20, 30, 40, 50.
<code>pandas</code> automatically creates an index for you (starting
from 0), but you can also specify a custom index.</p>
</div>
<div class="section level4">
<h4 id="dataframe">
<code>DataFrame</code><a class="anchor" aria-label="anchor" href="#dataframe"></a>
</h4>
<p>A <code>DataFrame</code> is a two-dimensional, table-like structure
(similar to a spreadsheet or SQL table) that can hold multiple
<code>Series</code>. It is the most commonly used <code>pandas</code>
object.</p>
<p>A <code>DataFrame</code> consists of:</p>
<ul>
<li>Rows (with an index, just like a <code>Series</code>),</li>
<li>Columns (which are each <code>Series</code>).</li>
</ul>
<p>You can think of a <code>DataFrame</code> as a collection of
<code>Series</code> that share the same index.</p>
<p>Key Features:</p>
<ul>
<li>It’s two-dimensional.</li>
<li>Each column is a <code>Series</code>.</li>
<li>It has both row and column labels (indexes and column names).</li>
<li>It can hold multiple data types (integers, strings, floats,
etc.).</li>
</ul>
<p>Example of a <code>DataFrame</code>:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># Create a DataFrame using a dictionary</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="st">'Name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>],</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="st">'Age'</span>: [<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>],</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="st">'City'</span>: [<span class="st">'New York'</span>, <span class="st">'Paris'</span>, <span class="st">'Seoul'</span>]</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>}</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co"># Print the DataFrame</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Name Age City
0 Alice 25 New York
1 Bob 30 Los Angeles
2 Charlie 35 Chicago</code></pre>
</div>
<ul>
<li>The <strong>rows</strong> are indexed from 0, 1, 2 (default
index).</li>
<li>The <strong>columns</strong> are <code>Name</code>,
<code>Age</code>, and <code>City</code>.</li>
<li>Each column is a <strong>Series</strong>, so the <code>Name</code>
column is a <code>Series</code>, the <code>Age</code> column is another
<code>Series</code>, etc.</li>
</ul>
<div id="import-methods" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="import-methods" class="callout-inner">
<h3 class="callout-title">Import methods</h3>
<div class="callout-content">
<p>In Python, libraries (or modules) can be imported into your code
using the <code>import</code> statement. This allows you to access the
functions, classes, and methods defined in that library. There are
several ways to do it:</p>
<ol style="list-style-type: decimal">
<li>Full import: <code>import pandas</code>
</li>
</ol>
<ul>
<li>Use with <code>pandas.DataFrame()</code>,
<code>pandas.Series()</code>, etc.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Import with alias: <code>import pandas as pd</code>
</li>
</ol>
<ul>
<li>Use with <code>pd.DataFrame()</code>, <code>pd.Series()</code>,
etc.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Import specific functions or classes:
<code>from pandas import DataFrame</code>
</li>
</ol>
<ul>
<li>Use directly as <code>DataFrame()</code>.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Import multiple specific elements:
<code>from pandas import DataFrame, Series</code>
</li>
</ol>
<p>In general, we use the <strong>option 2</strong> for
<code>pandas</code>.</p>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="loading-data">Loading data<a class="anchor" aria-label="anchor" href="#loading-data"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="loading-csv-data">Loading CSV data<a class="anchor" aria-label="anchor" href="#loading-csv-data"></a>
</h3>
<p>You can load a CSV file into a <code>pandas</code>
<code>DataFrame</code> using the <code>read_csv()</code> function:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'path</span><span class="ch">\t</span><span class="st">o</span><span class="ch">\f</span><span class="st">ile.csv'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="bu">print</span>(df.head())</span></code></pre>
</div>
<ul>
<li>
<code>read_csv()</code> reads the CSV file located at
<code>path\to\file.csv</code> and loads it into a <code>pandas</code>
<code>DataFrame</code> (<code>df</code>).</li>
<li>By default, it assumes that the file has a header row (i.e., column
names) in the first row.</li>
</ul>
<p>If the file does not have a header, you can use the
<code>header=None</code> parameter to let pandas generate default column
names.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'path</span><span class="ch">\t</span><span class="st">o</span><span class="ch">\f</span><span class="st">ile.csv'</span>, header<span class="op">=</span><span class="va">None</span>)</span></code></pre>
</div>
<p>You can pass arguments like <code>sep</code> if the file uses a
different delimiter (e.g., tab-separated <code>\t</code>).</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'path</span><span class="ch">\t</span><span class="st">o</span><span class="ch">\f</span><span class="st">ile.csv'</span>, sep<span class="op">=</span>`t`)</span></code></pre>
</div>
<div id="raw-string-literal" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="raw-string-literal" class="callout-inner">
<h3 class="callout-title">Raw string literal</h3>
<div class="callout-content">
<p>In Python, the <code>r</code> prefix before a string is used to
create a raw string literal. This tells Python to treat the string
exactly as it is, without interpreting backslashes (<code>\</code>) as
escape characters.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="vs">r'path\to\file.csv'</span>)</span></code></pre>
</div>
<p>In regular strings, backslashes are used as escape characters. For
example, <code>\n</code> represents a new line.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="loading-excel-data">Loading Excel data<a class="anchor" aria-label="anchor" href="#loading-excel-data"></a>
</h3>
<p><code>pandas</code> provides the <code>read_excel()</code> function
for reading Excel files.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>df <span class="op">=</span> pd.read_excel(<span class="st">'path</span><span class="ch">\t</span><span class="st">o</span><span class="ch">\f</span><span class="st">ile.xlsx'</span>)</span></code></pre>
</div>
<p>You can specify the sheet name if the file contains multiple sheets.
By default, it will load the first sheet.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>df <span class="op">=</span> pd.read_excel(<span class="st">'data\sales_data.xlsx'</span>, sheet_name<span class="op">=</span><span class="st">'Q1_2024'</span>)</span></code></pre>
</div>
<p>You can also load multiple sheets into a dictionary of
<code>DataFrames</code> using <code>sheet_name=None</code>.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>df <span class="op">=</span> pd.read_excel(<span class="st">'data\sales_data.xlsx'</span>, sheet_name<span class="op">=</span><span class="va">None</span>)</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="other-file-formats">Other file formats<a class="anchor" aria-label="anchor" href="#other-file-formats"></a>
</h3>
<p>You can also load data from other formats like JSON, or SQL
databases:</p>
<ul>
<li>JSON: <code>pd.read_json('your_file.json')</code>
</li>
<li>SQL:
<code>pd.read_sql('SELECT * FROM table', connection)</code>
</li>
</ul>
</div>
</section><section><h2 class="section-heading" id="data-exploration">Data exploration<a class="anchor" aria-label="anchor" href="#data-exploration"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="viewing-the-first-few-rows">Viewing the first few rows<a class="anchor" aria-label="anchor" href="#viewing-the-first-few-rows"></a>
</h3>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="bu">print</span>(df.head())  <span class="co"># Shows the first 5 rows</span></span></code></pre>
</div>
<p>If you want to see more (or fewer) rows, you can pass a number to
<code>head()</code>, such as <code>df.head(10)</code> to view the first
10 rows.</p>
<p>Similarly, you can use the <code>tail()</code> method to view the
last few rows of the <code>DataFrame</code>.</p>
</div>
<div class="section level3">
<h3 id="viewing-the-columns">Viewing the columns<a class="anchor" aria-label="anchor" href="#viewing-the-columns"></a>
</h3>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="bu">print</span>(df.columns)  <span class="co"># Shows the first 5 rows</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="unique-values-in-columns">Unique values in columns<a class="anchor" aria-label="anchor" href="#unique-values-in-columns"></a>
</h3>
<p>To get a sense of the distinct values in a column, the
<code>unique()</code> and <code>value_counts()</code> methods are
useful.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>df[<span class="st">'column_name'</span>].unique()</span></code></pre>
</div>
<p>The <code>unique()</code> method shows all the unique values in a
column.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>df[<span class="st">'column_name'</span>].value_counts()</span></code></pre>
</div>
<p>The <code>value_counts()</code> method returns the count of unique
values in the column, sorted in descending order. This is particularly
useful for categorical data.</p>
</div>
<div class="section level3">
<h3 id="checking-for-missing-values">Checking for missing values<a class="anchor" aria-label="anchor" href="#checking-for-missing-values"></a>
</h3>
<p>The <code>isnull()</code> method returns a <code>DataFrame</code> of
the same shape as <code>df</code>, where each element is a boolean
(<code>True</code> for missing values and <code>False</code> for
non-missing values).</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="bu">print</span>(df.isnull())</span></code></pre>
</div>
<p>To get the total number of missing values in each column, you can
chain <code>sum()</code> to <code>isnull()</code>.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="bu">print</span>(df.isnull().<span class="bu">sum</span>())</span></code></pre>
</div>
<p>This gives you a count of how many missing values are present in each
column.</p>
</div>
<div class="section level3">
<h3 id="summary-statistics">Summary statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h3>
<p>To get a quick overview of the numerical data, you can use:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="bu">print</span>(df.describe())</span></code></pre>
</div>
<p>The <code>describe()</code> method provides summary statistics for
all numeric columns, including:</p>
<ul>
<li>
<code>count</code>: the number of non-null entries</li>
<li>
<code>mean</code>: the average value</li>
<li>
<code>std</code>: the standard deviation</li>
<li>
<code>min</code>/<code>max</code>: the minimum and maximum
values</li>
<li>
<code>25%</code>, <code>50%</code>, <code>75%</code>: the
percentiles</li>
</ul>
</div>
<div class="section level3">
<h3 id="checking-the-data-types">Checking the data types<a class="anchor" aria-label="anchor" href="#checking-the-data-types"></a>
</h3>
<p>To understand the types of data in each column:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="bu">print</span>(df.dtypes)</span></code></pre>
</div>
<div id="exploring-a-sdmx-dataset" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exploring-a-sdmx-dataset" class="callout-inner">
<h3 class="callout-title">Exploring a SDMX dataset</h3>
<div class="callout-content">
<p>Using the <code>education.csv</code> dataset in the materials for
this episode, write the lines of code to:</p>
<ul>
<li>Import <code>pandas</code>
</li>
<li>Load the dataset into a <code>pandas</code>
<code>DataFrame</code>
</li>
<li>Print the list of columns in this dataset</li>
<li>Print the unique values of the <code>REF_AREA</code> column</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="vs">r"education.csv"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="bu">print</span>(df.columns)</span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="bu">print</span>(df[<span class="st">"REF_AREA"</span>].unique())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Index(['STRUCTURE', 'STRUCTURE_ID', 'STRUCTURE_NAME', 'ACTION', 'REF_AREA',
       'Reference area', 'MEASURE', 'Measure', 'UNIT_MEASURE',
       'Unit of measure', 'INST_TYPE_EDU', 'Type of educational institution',
       'EDUCATION_LEV', 'Education level', 'AGE', 'Age', 'SUBJ_TYPE',
       'Subject', 'OBS_VALUE', 'Observation value', 'OBS_STATUS',
       'Observation status', 'UNIT_MULT', 'Unit multiplier',
       'STATISTICAL_OPERATION', 'Statistical operation', 'REF_PERIOD',
       'Reference period', 'DECIMALS', 'Decimals'],
      dtype='object')
['BFR' 'CHN' 'ESP' 'ISL' 'MEX' 'CHE' 'DEU' 'LTU' 'SAU' 'AUS' 'CAN' 'NLD'
 'CHL' 'FRA' 'KOR' 'GRC' 'LUX' 'ROU' 'FIN' 'IND' 'IRL' 'ISR' 'CZE' 'SVK'
 'TUR' 'USA' 'SVN' 'BGR' 'SWE' 'ZAF' 'UKM' 'NZL' 'OECD' 'BFL' 'IDN' 'NOR'
 'DNK' 'HRV' 'HUN' 'ARG' 'CRI' 'EST' 'COL' 'PER' 'POL' 'PRT' 'UKB' 'ITA'
 'BRA' 'JPN' 'LVA' 'EU25' 'G20' 'AUT']</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="cleaning-data">Cleaning data<a class="anchor" aria-label="anchor" href="#cleaning-data"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="renaming-columns">Renaming columns<a class="anchor" aria-label="anchor" href="#renaming-columns"></a>
</h3>
<p>You may want to rename columns for clarity:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>df.rename(columns<span class="op">=</span>{<span class="st">'old_name'</span>: <span class="st">'new_name'</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<div id="callout3" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>The <code>inplace=True</code> parameter means that we are modifying
the original <code>DataFrame</code> <code>df</code> directly.</p>
<p>By default, <code>inplace=False</code>, which means the following
line won’t rename the <code>old_name</code> column:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>df.rename(columns<span class="op">=</span>{<span class="st">'old_name'</span>: <span class="st">'new_name'</span>})</span></code></pre>
</div>
<p>An alternative is to create a new <code>DataFrame</code> with the
renamed columns and assign it back to <code>df</code>:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>df <span class="op">=</span> df.rename(columns<span class="op">=</span>{<span class="st">'old_name'</span>: <span class="st">'new_name'</span>})</span></code></pre>
</div>
<p>The <code>inplace</code> parameter is present in many other
<code>pandas</code> methods.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="dropping-columns">Dropping columns<a class="anchor" aria-label="anchor" href="#dropping-columns"></a>
</h3>
<p>If you no longer need a column, you can drop it:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>df.drop(columns<span class="op">=</span>[<span class="st">'column_name'</span>], inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<p>You can also select specific columns from a <code>DataFrame</code> by
passing a list of column names to the <code>DataFrame</code> inside
double brackets.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>df <span class="op">=</span> df[[<span class="st">"col1"</span>, <span class="st">"col2"</span>]]</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="removing-duplicates">Removing duplicates<a class="anchor" aria-label="anchor" href="#removing-duplicates"></a>
</h3>
<p>To remove duplicate rows, use the <code>drop_duplicates()</code>
method, which removes all duplicate rows by default.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>df_cleaned <span class="op">=</span> df.drop_duplicates()</span></code></pre>
</div>
<p>You can also specify which columns to check for duplicates by passing
a subset to the subset parameter:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>df_cleaned <span class="op">=</span> df.drop_duplicates(subset<span class="op">=</span>[<span class="st">'A'</span>])</span></code></pre>
</div>
<p>This will remove duplicates based only on column <code>A</code>.</p>
</div>
<div class="section level3">
<h3 id="handling-missing-data">Handling missing data<a class="anchor" aria-label="anchor" href="#handling-missing-data"></a>
</h3>
<p>You can handle missing data it in various ways:</p>
<ul>
<li>Dropping rows with missing values:</li>
</ul>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>df.dropna(inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<ul>
<li>Filling missing values with a default value:</li>
</ul>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>df.fillna(<span class="dv">0</span>, inplace<span class="op">=</span><span class="va">True</span>)  <span class="co"># Fill missing values with 0</span></span></code></pre>
</div>
<div id="callout4" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Some methods, such as <code>fillna()</code> can be applied both on
<code>Series</code> and <code>DataFrame</code> objects.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>df[<span class="st">'A'</span>] <span class="op">=</span> df[<span class="st">'A'</span>].fillna(<span class="dv">0</span>) <span class="co"># Fill missing values in column 'A' with 0</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="first-cleaning-steps" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="first-cleaning-steps" class="callout-inner">
<h3 class="callout-title">First cleaning steps</h3>
<div class="callout-content">
<p>Using the <code>education.csv</code> dataset in the materials for
this episode (continuing on the script of the previous exercise), write
the lines of code to:</p>
<ul>
<li>Keep only the following columns: <code>REF_AREA</code>,
<code>AGE</code>, <code>SUBJ_TYPE</code>, <code>OBS_VALUE</code>,
<code>REF_PERIOD</code>
</li>
<li>Rename them with simpler names: <code>iso3</code>, <code>age</code>,
<code>subject</code>, <code>value</code>, <code>year</code>
</li>
<li>Drop rows with missing data</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># Keeping only the necessary columns</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>df <span class="op">=</span> df[[<span class="st">"REF_AREA"</span>, <span class="st">"AGE"</span>, <span class="st">"SUBJ_TYPE"</span>, <span class="st">"OBS_VALUE"</span>, <span class="st">"REF_PERIOD"</span>]]</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="co"># Rename them</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>df.rename(columns<span class="op">=</span>{</span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a>    <span class="st">"REF_AREA"</span>: <span class="st">"iso3"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a>    <span class="st">"AGE"</span>: <span class="st">"age"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a>     <span class="st">"SUBJ_TYPE"</span>: <span class="st">"subject"</span>,</span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a>     <span class="st">"OBS_VALUE"</span>: <span class="st">"value"</span>,</span>
<span id="cb32-10"><a href="#cb32-10" tabindex="-1"></a>     <span class="st">"REF_PERIOD"</span>: <span class="st">"year"</span>},</span>
<span id="cb32-11"><a href="#cb32-11" tabindex="-1"></a>     inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb32-12"><a href="#cb32-12" tabindex="-1"></a></span>
<span id="cb32-13"><a href="#cb32-13" tabindex="-1"></a><span class="co"># Drop rows with missing data</span></span>
<span id="cb32-14"><a href="#cb32-14" tabindex="-1"></a>df.dropna(inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="transforming-data">Transforming data<a class="anchor" aria-label="anchor" href="#transforming-data"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="filtering-rows">Filtering rows<a class="anchor" aria-label="anchor" href="#filtering-rows"></a>
</h3>
<p>You can filter rows based on certain conditions. For example, to
filter for rows where the column <code>age</code> is greater than
30:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>df_filtered <span class="op">=</span> df[df[<span class="st">'age'</span>] <span class="op">&gt;</span> <span class="dv">30</span>]</span></code></pre>
</div>
<p>Another way to do this is to use <code>loc</code> (Label Based
Indexing):</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>df_filtered <span class="op">=</span> df.loc[df[<span class="st">'age'</span>] <span class="op">&gt;</span> <span class="dv">30</span>]</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="replacing-values-based-on-condition">Replacing values based on condition<a class="anchor" aria-label="anchor" href="#replacing-values-based-on-condition"></a>
</h3>
<p><code>loc</code> can also be used to replace values in a
<code>DataFrame</code> based on conditions. Let’s assume we have the
following <code>DataFrame</code>, and we want to update certain values
based on specific conditions.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>],</span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>    <span class="st">'Age'</span>: [<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>],</span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>    <span class="st">'City'</span>: [<span class="st">'New York'</span>, <span class="st">'Los Angeles'</span>, <span class="st">'Chicago'</span>, <span class="st">'San Francisco'</span>]</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a>}</span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original DataFrame:"</span>)</span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Original DataFrame:
      Name  Age             City
0    Alice   25         New York
1      Bob   30    Los Angeles
2  Charlie   35          Chicago
3    David   40  San Francisco</code></pre>
</div>
<p>Suppose we want to replace the city for anyone over the age of 30
with Seattle.</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="co"># Replace 'City' with 'Seattle' where 'Age' is greater than 30</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a>df.loc[df[<span class="st">'Age'</span>] <span class="op">&gt;</span> <span class="dv">30</span>, <span class="st">'City'</span>] <span class="op">=</span> <span class="st">'Seattle'</span></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Updated DataFrame:"</span>)</span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Updated DataFrame:
      Name  Age      City
0    Alice   25  New York
1      Bob   30  Los Angeles
2  Charlie   35   Seattle
3    David   40   Seattle</code></pre>
</div>
<ul>
<li>
<code>df['Age'] &gt; 30</code>: This is the condition used to filter
rows where the <code>Age</code> is greater than 30.</li>
<li>
<code>df.loc[df['Age'] &gt; 30, 'City']</code>: This selects the
<code>City</code> column for those rows where the condition is
true.</li>
<li>
<code>= 'Seattle'</code>: This replaces the value in the
<code>City</code> column with ‘Seattle’ for those rows.</li>
</ul>
</div>
<div class="section level3">
<h3 id="sorting-data">Sorting data<a class="anchor" aria-label="anchor" href="#sorting-data"></a>
</h3>
<p>To sort your <code>DataFrame</code> by a specific column:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>df_sorted <span class="op">=</span> df.sort_values(by<span class="op">=</span><span class="st">'column_name'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="creating-new-columns">Creating new columns<a class="anchor" aria-label="anchor" href="#creating-new-columns"></a>
</h3>
<p>You can create new columns based on existing ones. For example:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>df[<span class="st">'new_column'</span>] <span class="op">=</span> df[<span class="st">'column1'</span>] <span class="op">+</span> df[<span class="st">'column2'</span>]</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="replace-values-using-map">Replace values using <code>map</code>
<a class="anchor" aria-label="anchor" href="#replace-values-using-map"></a>
</h3>
<p>The <code>map()</code> method in <code>pandas</code> allows you to
apply a mapping or a function to each element in the
<code>Series</code>. You can use <code>map()</code> with a dictionary to
replace values in a <code>Series</code> according to the mapping
provided.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>],</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a>    <span class="st">'City'</span>: [<span class="st">'NY'</span>, <span class="st">'LA'</span>, <span class="st">'CHI'</span>, <span class="st">'SF'</span>]</span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a>    }</span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb41-7"><a href="#cb41-7" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" tabindex="-1"></a><span class="co"># Create a dictionary for mapping</span></span>
<span id="cb41-9"><a href="#cb41-9" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" tabindex="-1"></a>city_map <span class="op">=</span> {</span>
<span id="cb41-11"><a href="#cb41-11" tabindex="-1"></a>    <span class="st">'NY'</span>: <span class="st">'New York'</span>,</span>
<span id="cb41-12"><a href="#cb41-12" tabindex="-1"></a>    <span class="st">'LA'</span>: <span class="st">'Los Angeles'</span>,</span>
<span id="cb41-13"><a href="#cb41-13" tabindex="-1"></a>    <span class="st">'CHI'</span>: <span class="st">'Chicago'</span>,</span>
<span id="cb41-14"><a href="#cb41-14" tabindex="-1"></a>    <span class="st">'SF'</span>: <span class="st">'San Francisco'</span></span>
<span id="cb41-15"><a href="#cb41-15" tabindex="-1"></a>    }</span>
<span id="cb41-16"><a href="#cb41-16" tabindex="-1"></a></span>
<span id="cb41-17"><a href="#cb41-17" tabindex="-1"></a><span class="co"># Apply the map function to replace city abbreviations</span></span>
<span id="cb41-18"><a href="#cb41-18" tabindex="-1"></a></span>
<span id="cb41-19"><a href="#cb41-19" tabindex="-1"></a>df[<span class="st">'City'</span>] <span class="op">=</span> df[<span class="st">'City'</span>].<span class="bu">map</span>(city_map)</span>
<span id="cb41-20"><a href="#cb41-20" tabindex="-1"></a></span>
<span id="cb41-21"><a href="#cb41-21" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Name City
0 Alice New York
1 Bob Los Angeles
2 Charlie Chicago
3 David San Francisco</code></pre>
</div>
<ul>
<li>
<code>city_map</code> is a dictionary where the keys are the city
abbreviations and the values are the full city names.</li>
<li>
<code>df['City'].map(city_map)</code>: This replaces the city
abbreviations with the corresponding full city names from the
<code>city_map</code> dictionary.</li>
</ul>
<div id="selection-and-mapping" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="selection-and-mapping" class="callout-inner">
<h3 class="callout-title">Selection and mapping</h3>
<div class="callout-content">
<p>We are still using the <code>education.csv</code> dataset in the
materials for this episode (continuing on the script of the previous
exercise).</p>
<ul>
<li>Now, we would like to focus on a subset of education subjects,
instead of using the full list (17 subjects). Write the lines of code to
select only the 8 subjects listed below.</li>
</ul>
<blockquote>
<p>You can use the <code>isin()</code> method in pandas is used to
filter rows .</p>
</blockquote>
<ul>
<li>You may have noticed that the column for subjects labels in the raw
data was filled with missing values. For a better readability, we will
transform subject codes into labels, using the following mapping:
<ul>
<li>
<code>READ</code>: “Reading, writing and literature”</li>
<li>
<code>MATH</code>: “Mathematics”</li>
<li>
<code>NSCI</code>: “Natural sciences”</li>
<li>
<code>SSCI</code>: “Social sciences”</li>
<li>
<code>SLAN</code>: “Second language”</li>
<li>
<code>OLAN</code>: “Other languages”</li>
<li>
<code>PHED</code>: “Physical education and health”</li>
<li>
<code>ARTS</code>: “Arts”</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="co"># Selecting only the 8 main subjects and assign to a new dataframe</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a>df_subset <span class="op">=</span> df.loc[df[<span class="st">'subject'</span>].isin([<span class="st">"READ"</span>, <span class="st">"MATH"</span>, <span class="st">"NSCI"</span>, <span class="st">"SSCI"</span>, <span class="st">"SLAN"</span>, <span class="st">"OLAN"</span>, <span class="st">"PHED"</span>, <span class="st">"ARTS"</span>])]</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a><span class="co"># Adding labels</span></span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a>df_subset[<span class="st">"subject_label"</span>] <span class="op">=</span> df_subset[<span class="st">"subject"</span>].<span class="bu">map</span>({</span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a>    <span class="st">"READ"</span>: <span class="st">"Reading, writing and literature"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" tabindex="-1"></a>    <span class="st">"MATH"</span>: <span class="st">"Mathematics"</span>,</span>
<span id="cb43-8"><a href="#cb43-8" tabindex="-1"></a>    <span class="st">"NSCI"</span>: <span class="st">"Natural sciences"</span>,</span>
<span id="cb43-9"><a href="#cb43-9" tabindex="-1"></a>    <span class="st">"SSCI"</span>: <span class="st">"Social sciences"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" tabindex="-1"></a>    <span class="st">"SLAN"</span>: <span class="st">"Second language"</span>,</span>
<span id="cb43-11"><a href="#cb43-11" tabindex="-1"></a>    <span class="st">"OLAN"</span>: <span class="st">"Other languages"</span>,</span>
<span id="cb43-12"><a href="#cb43-12" tabindex="-1"></a>    <span class="st">"PHED"</span>: <span class="st">"Physical education and health"</span>,</span>
<span id="cb43-13"><a href="#cb43-13" tabindex="-1"></a>    <span class="st">"ARTS"</span>: <span class="st">"Arts"</span>})</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="pivoting-data">Pivoting data<a class="anchor" aria-label="anchor" href="#pivoting-data"></a>
</h3>
<p>Pivoting and melting are two important operations for reshaping data
in <code>pandas</code>. They are used to transform a
<code>DataFrame</code> from “long” format to “wide” format, and vice
versa.</p>
<div class="section level4">
<h4 id="pivot">Pivot<a class="anchor" aria-label="anchor" href="#pivot"></a>
</h4>
<p>The <code>pivot()</code> method reshapes the data by turning unique
values from one column into new columns. It’s useful when you want to
convert a “long” format <code>DataFrame</code> (where each row
represents a single observation) into a “wide” format (where each unique
value becomes a column).</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a>    <span class="st">'Date'</span>: [<span class="st">'2021-01-01'</span>, <span class="st">'2021-01-01'</span>, <span class="st">'2021-01-02'</span>, <span class="st">'2021-01-02'</span>],</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a>    <span class="st">'City'</span>: [<span class="st">'New York'</span>, <span class="st">'Los Angeles'</span>, <span class="st">'New York'</span>, <span class="st">'Los Angeles'</span>],</span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a>    <span class="st">'Temperature'</span>: [<span class="dv">30</span>, <span class="dv">75</span>, <span class="dv">32</span>, <span class="dv">77</span>],</span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a>}</span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" tabindex="-1"></a><span class="co"># Pivoting the data</span></span>
<span id="cb44-10"><a href="#cb44-10" tabindex="-1"></a>pivot_df <span class="op">=</span> df.pivot(index<span class="op">=</span><span class="st">'Date'</span>, columns<span class="op">=</span><span class="st">'City'</span>, values<span class="op">=</span><span class="st">'Temperature'</span>)</span>
<span id="cb44-11"><a href="#cb44-11" tabindex="-1"></a><span class="bu">print</span>(pivot_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>City            Los Angeles  New York
Date
2021-01-01            75        30
2021-01-02            77        32</code></pre>
</div>
<ul>
<li>The <code>Date</code> column is used as the index.</li>
<li>The <code>City</code> column values are turned into new
columns.</li>
<li>The <code>Temperature</code> column is used to populate the new
DataFrame.</li>
</ul>
</div>
<div class="section level4">
<h4 id="melt">Melt<a class="anchor" aria-label="anchor" href="#melt"></a>
</h4>
<p>The <code>melt()</code> function is the opposite of
<code>pivot()</code>. It transforms a DataFrame from wide format to long
format.</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a>    <span class="st">'Date'</span>: [<span class="st">'2021-01-01'</span>, <span class="st">'2021-01-02'</span>],</span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a>    <span class="st">'New York'</span>: [<span class="dv">30</span>, <span class="dv">32</span>],</span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a>    <span class="st">'Los Angeles'</span>: [<span class="dv">75</span>, <span class="dv">77</span>],</span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a>}</span>
<span id="cb46-6"><a href="#cb46-6" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb46-8"><a href="#cb46-8" tabindex="-1"></a></span>
<span id="cb46-9"><a href="#cb46-9" tabindex="-1"></a><span class="co"># Melting the data</span></span>
<span id="cb46-10"><a href="#cb46-10" tabindex="-1"></a>melted_df <span class="op">=</span> df.melt(id_vars<span class="op">=</span>[<span class="st">'Date'</span>], var_name<span class="op">=</span><span class="st">'City'</span>, value_name<span class="op">=</span><span class="st">'Temperature'</span>)</span>
<span id="cb46-11"><a href="#cb46-11" tabindex="-1"></a><span class="bu">print</span>(melted_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>         Date           City  Temperature
0  2021-01-01       New York           30
1  2021-01-02       New York           32
2  2021-01-01  Los Angeles           75
3  2021-01-02  Los Angeles           77</code></pre>
</div>
<ul>
<li>The <code>Date</code> column remains fixed (as
<code>id_vars</code>).</li>
<li>The <code>New York</code> and <code>Los Angeles</code> columns are
melted into a single <code>City</code> column, with corresponding values
in the <code>Temperature</code> column.</li>
</ul>
<div id="pivot-method" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="pivot-method" class="callout-inner">
<h3 class="callout-title">Pivot method</h3>
<div class="callout-content">
<p>You are given a dataset containing sales information for different
products over a few months.</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a><span class="co"># Create the DataFrame</span></span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb48-5"><a href="#cb48-5" tabindex="-1"></a>    <span class="st">'Product'</span>: [<span class="st">'A'</span>, <span class="st">'A'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'B'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'C'</span>, <span class="st">'C'</span>],</span>
<span id="cb48-6"><a href="#cb48-6" tabindex="-1"></a>    <span class="st">'Month'</span>: [<span class="st">'January'</span>, <span class="st">'February'</span>, <span class="st">'March'</span>, <span class="st">'January'</span>, <span class="st">'February'</span>, <span class="st">'March'</span>, <span class="st">'January'</span>, <span class="st">'February'</span>, <span class="st">'March'</span>],</span>
<span id="cb48-7"><a href="#cb48-7" tabindex="-1"></a>    <span class="st">'Sales'</span>: [<span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>, <span class="dv">80</span>, <span class="dv">120</span>, <span class="dv">160</span>, <span class="dv">130</span>, <span class="dv">170</span>, <span class="dv">220</span>]</span>
<span id="cb48-8"><a href="#cb48-8" tabindex="-1"></a>}</span>
<span id="cb48-9"><a href="#cb48-9" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span></code></pre>
</div>
<p>Use the <code>pivot()</code> method to rearrange this DataFrame so
that the months become columns, and each product’s sales data for each
month appears under its respective column.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a>pivot_df <span class="op">=</span> df.pivot(index<span class="op">=</span><span class="st">'Product'</span>, columns<span class="op">=</span><span class="st">'Month'</span>, values<span class="op">=</span><span class="st">'Sales'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="merging-and-joining-data">Merging and joining data<a class="anchor" aria-label="anchor" href="#merging-and-joining-data"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="merging-dataframes">Merging <code>DataFrames</code>
<a class="anchor" aria-label="anchor" href="#merging-dataframes"></a>
</h3>
<p>The <code>merge()</code> function in <code>pandas</code> is used to
combine two <code>DataFrames</code> based on one or more common columns.
It’s similar to SQL joins.</p>
<p>The basic syntax for merging two <code>DataFrames</code> is:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a>pd.merge(left, right, how<span class="op">=</span><span class="st">'inner'</span>, on<span class="op">=</span><span class="va">None</span>, left_on<span class="op">=</span><span class="va">None</span>, right_on<span class="op">=</span><span class="va">None</span>)</span></code></pre>
</div>
<ul>
<li>
<code>left</code>: The first <code>DataFrame</code>.</li>
<li>
<code>right</code>: The second <code>DataFrame</code>.</li>
<li>
<code>how</code>: The type of merge to perform. Options include:
<ul>
<li>
<code>left</code>: Use only keys from the left
<code>DataFrame</code> (like a left join in SQL).</li>
<li>
<code>right</code>: Use only keys from the right
<code>DataFrame</code> (like a right join in SQL).</li>
<li>
<code>outer</code>: Use keys from both <code>DataFrames</code>,
filling in missing values with <code>NaN</code> (like a full outer join
in SQL).</li>
<li>
<code>inner</code>: Use only the common keys (like an inner join in
SQL, default option).</li>
</ul>
</li>
<li>
<code>on</code>: The column or index level names to join on. If not
specified, it will join on columns with the same name in both
<code>DataFrames</code>.</li>
<li>
<code>left_on</code> and <code>right_on</code>: Specify columns from
left and right <code>DataFrames</code> to merge on if the column names
are different.</li>
</ul>
<p>In the following example, we merge <code>DataFrames</code> on
multiple columns by passing a list to the <code>on</code> parameter.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a>df1 <span class="op">=</span> pd.DataFrame({</span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'John'</span>, <span class="st">'Anna'</span>, <span class="st">'Peter'</span>],</span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a>    <span class="st">'City'</span>: [<span class="st">'NY'</span>, <span class="st">'LA'</span>, <span class="st">'SF'</span>],</span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a>    <span class="st">'Age'</span>: [<span class="dv">22</span>, <span class="dv">25</span>, <span class="dv">28</span>]</span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a>})</span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame({</span>
<span id="cb51-8"><a href="#cb51-8" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'John'</span>, <span class="st">'Anna'</span>, <span class="st">'Peter'</span>],</span>
<span id="cb51-9"><a href="#cb51-9" tabindex="-1"></a>    <span class="st">'City'</span>: [<span class="st">'NY'</span>, <span class="st">'LA'</span>, <span class="st">'DC'</span>],</span>
<span id="cb51-10"><a href="#cb51-10" tabindex="-1"></a>    <span class="st">'Salary'</span>: [<span class="dv">50000</span>, <span class="dv">60000</span>, <span class="dv">70000</span>]</span>
<span id="cb51-11"><a href="#cb51-11" tabindex="-1"></a>})</span>
<span id="cb51-12"><a href="#cb51-12" tabindex="-1"></a></span>
<span id="cb51-13"><a href="#cb51-13" tabindex="-1"></a><span class="co"># Merge on multiple columns</span></span>
<span id="cb51-14"><a href="#cb51-14" tabindex="-1"></a>merged_df <span class="op">=</span> pd.merge(df1, df2, how<span class="op">=</span><span class="st">'inner'</span>, on<span class="op">=</span>[<span class="st">'Name'</span>, <span class="st">'City'</span>])</span>
<span id="cb51-15"><a href="#cb51-15" tabindex="-1"></a><span class="bu">print</span>(merged_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>    Name City  Age  Salary
0   John   NY   22   50000
1   Anna   LA   25   60000</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="concatenating-dataframes">Concatenating <code>DataFrames</code>
<a class="anchor" aria-label="anchor" href="#concatenating-dataframes"></a>
</h3>
<p>In addition to merging <code>DataFrames</code>, <code>pandas</code>
provides the <code>concat()</code> function, which is useful for
combining <code>DataFrames</code> along a particular axis (either rows
or columns). While <code>merge()</code> is typically used for combining
<code>DataFrames</code> based on a shared key or index,
<code>concat()</code> is more straightforward and is generally used when
you want to append or stack <code>DataFrames</code> together.</p>
<p>The basic syntax for <code>concat()</code> is:</p>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>pd.concat([df1, df2], axis<span class="op">=</span><span class="dv">0</span>, ignore_index<span class="op">=</span><span class="va">False</span>, join<span class="op">=</span><span class="st">'outer'</span>)</span></code></pre>
</div>
<ul>
<li><p><code>[df1, df2]</code>: A list of <code>DataFrames</code> to
concatenate.</p></li>
<li>
<p><code>axis</code>: The axis along which to concatenate:</p>
<ul>
<li>
<code>axis=0</code>: Concatenate along rows (default behavior). This
stacks <code>DataFrames</code> on top of each other.</li>
<li>
<code>axis=1</code>: Concatenate along columns, aligning
<code>DataFrames</code> side-by-side.</li>
</ul>
</li>
<li><p><code>ignore_index</code>: If <code>True</code>, the index will
be reset (i.e., it will generate a new index). If <code>False</code>,
the original indices of the <code>DataFrames</code> are
preserved.</p></li>
<li>
<p><code>join</code>: Determines how to handle indices (or columns
when <code>axis=1</code>):</p>
<ul>
<li>
<code>outer</code>: Takes the union of the indices (or columns) from
both <code>DataFrames</code> (default).</li>
<li>
<code>inner</code>: Takes the intersection of the indices (or
columns), excluding any non-overlapping indices (or columns).</li>
</ul>
</li>
</ul>
<p>When concatenating along rows (which is the default behavior), the
<code>DataFrames</code> are stacked on top of each other, and the rows
are added to the end of the previous <code>DataFrame</code>. This is
commonly used to combine datasets with the same structure but with
different data.</p>
<p>Here is an example for concatenating <code>DataFrames</code> with the
same columns:</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>df1 <span class="op">=</span> pd.DataFrame({</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>    <span class="st">'ID'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'John'</span>, <span class="st">'Anna'</span>, <span class="st">'Peter'</span>]</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a>})</span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a></span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame({</span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a>    <span class="st">'ID'</span>: [<span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'Linda'</span>, <span class="st">'James'</span>]</span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a>})</span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a></span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a><span class="co"># Concatenate along rows (stack vertically)</span></span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a>concatenated_df <span class="op">=</span> pd.concat([df1, df2], axis<span class="op">=</span><span class="dv">0</span>, ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a><span class="bu">print</span>(concatenated_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   ID   Name
0   1   John
1   2   Anna
2   3  Peter
3   4  Linda
4   5  James</code></pre>
</div>
<p>In this case:</p>
<ul>
<li>The two DataFrames <code>df1</code> and <code>df2</code> are stacked
vertically.</li>
<li>The <code>ignore_index=True</code> parameter ensures that the index
is reset to a default integer index (0 to 4).</li>
<li>If you didn’t set <code>ignore_index=True</code>, the original
indices from <code>df1</code> and <code>df2</code> would be
preserved.</li>
</ul>
<div id="merging-datasets" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="merging-datasets" class="callout-inner">
<h3 class="callout-title">Merging datasets</h3>
<div class="callout-content">
<p>We are given two datasets: one containing employee details and the
other containing their department information. We want to merge these
two datasets on the common column <code>Employee_ID</code> to create a
single <code>DataFrame</code> that contains employee details with their
department names, while making sure we won’t drop any observation.</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a><span class="co"># Create the Employee DataFrame</span></span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a>employee_data <span class="op">=</span> {</span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a>    <span class="st">'Employee_ID'</span>: [<span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>, <span class="dv">104</span>, <span class="dv">105</span>],</span>
<span id="cb56-6"><a href="#cb56-6" tabindex="-1"></a>    <span class="st">'Employee_Name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>, <span class="st">'David'</span>, <span class="st">'Eva'</span>],</span>
<span id="cb56-7"><a href="#cb56-7" tabindex="-1"></a>    <span class="st">'Age'</span>: [<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>]</span>
<span id="cb56-8"><a href="#cb56-8" tabindex="-1"></a>}</span>
<span id="cb56-9"><a href="#cb56-9" tabindex="-1"></a></span>
<span id="cb56-10"><a href="#cb56-10" tabindex="-1"></a>employee_df <span class="op">=</span> pd.DataFrame(employee_data)</span>
<span id="cb56-11"><a href="#cb56-11" tabindex="-1"></a></span>
<span id="cb56-12"><a href="#cb56-12" tabindex="-1"></a><span class="co"># Create the Department DataFrame</span></span>
<span id="cb56-13"><a href="#cb56-13" tabindex="-1"></a>department_data <span class="op">=</span> {</span>
<span id="cb56-14"><a href="#cb56-14" tabindex="-1"></a>    <span class="st">'Employee_ID'</span>: [<span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>, <span class="dv">106</span>],</span>
<span id="cb56-15"><a href="#cb56-15" tabindex="-1"></a>    <span class="st">'Department'</span>: [<span class="st">'HR'</span>, <span class="st">'Finance'</span>, <span class="st">'IT'</span>, <span class="st">'Marketing'</span>]</span>
<span id="cb56-16"><a href="#cb56-16" tabindex="-1"></a>}</span>
<span id="cb56-17"><a href="#cb56-17" tabindex="-1"></a></span>
<span id="cb56-18"><a href="#cb56-18" tabindex="-1"></a>department_df <span class="op">=</span> pd.DataFrame(department_data)</span>
<span id="cb56-19"><a href="#cb56-19" tabindex="-1"></a></span>
<span id="cb56-20"><a href="#cb56-20" tabindex="-1"></a><span class="co"># Display both DataFrames</span></span>
<span id="cb56-21"><a href="#cb56-21" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Employee DataFrame:"</span>)</span>
<span id="cb56-22"><a href="#cb56-22" tabindex="-1"></a><span class="bu">print</span>(employee_df)</span>
<span id="cb56-23"><a href="#cb56-23" tabindex="-1"></a></span>
<span id="cb56-24"><a href="#cb56-24" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Department DataFrame:"</span>)</span>
<span id="cb56-25"><a href="#cb56-25" tabindex="-1"></a><span class="bu">print</span>(department_df)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb57">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a>merged_df <span class="op">=</span> pd.merge(employee_df, department_df, on<span class="op">=</span><span class="st">'Employee_ID'</span>, how<span class="op">=</span><span class="st">'outer'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="aggregating-data">Aggregating data<a class="anchor" aria-label="anchor" href="#aggregating-data"></a>
</h2>
<hr class="half-width">
<p>Aggregation is often used to summarize data by applying functions
like sum, mean, etc., to groups of rows.</p>
<div class="section level3">
<h3 id="grouping-data">Grouping data<a class="anchor" aria-label="anchor" href="#grouping-data"></a>
</h3>
<p>The <code>groupby()</code> method in pandas is used to group data by
one or more columns. Once the data is grouped, you can apply an
aggregation function to each group.</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>df_grouped <span class="op">=</span> df.groupby(<span class="st">'column_name'</span>).agg({<span class="st">'numeric_column'</span>: <span class="st">'mean'</span>})</span></code></pre>
</div>
<div class="section level4">
<h4 id="basic-grouping">Basic Grouping<a class="anchor" aria-label="anchor" href="#basic-grouping"></a>
</h4>
<p>Let’s assume we have a dataset of sales data that includes the
following columns: <code>store</code>, <code>product</code>, and
<code>sales</code>.</p>
<div class="codewrapper sourceCode" id="cb59">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb59-2"><a href="#cb59-2" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb59-4"><a href="#cb59-4" tabindex="-1"></a>    <span class="st">'store'</span>: [<span class="st">'A'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'C'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>],</span>
<span id="cb59-5"><a href="#cb59-5" tabindex="-1"></a>    <span class="st">'product'</span>: [<span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'banana'</span>, <span class="st">'apple'</span>],</span>
<span id="cb59-6"><a href="#cb59-6" tabindex="-1"></a>    <span class="st">'sales'</span>: [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>]</span>
<span id="cb59-7"><a href="#cb59-7" tabindex="-1"></a>}</span>
<span id="cb59-8"><a href="#cb59-8" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb59-10"><a href="#cb59-10" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" tabindex="-1"></a><span class="co"># Group by 'store' and calculate the total sales for each store</span></span>
<span id="cb59-12"><a href="#cb59-12" tabindex="-1"></a>grouped <span class="op">=</span> df.groupby(<span class="st">'store'</span>)[<span class="st">'sales'</span>].<span class="bu">sum</span>()</span>
<span id="cb59-13"><a href="#cb59-13" tabindex="-1"></a><span class="bu">print</span>(grouped)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>store
A    100
B    150
C    110
Name: sales, dtype: int64</code></pre>
</div>
<p>In this example, we grouped the data by <code>store</code> and
calculated the total sales (<code>sum</code>) for each store.</p>
</div>
<div class="section level4">
<h4 id="grouping-by-multiple-columns">Grouping by Multiple Columns<a class="anchor" aria-label="anchor" href="#grouping-by-multiple-columns"></a>
</h4>
<p>You can also group by multiple columns. Let’s say we want to
calculate the total sales per store and per product:</p>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a>grouped_multiple <span class="op">=</span> df.groupby([<span class="st">'store'</span>, <span class="st">'product'</span>])[<span class="st">'sales'</span>].<span class="bu">sum</span>()</span>
<span id="cb61-2"><a href="#cb61-2" tabindex="-1"></a><span class="bu">print</span>(grouped_multiple)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>store product
A apple 10
banana 90
B apple 30
banana 40
C apple 50
banana 60
Name: sales, dtype: int64</code></pre>
</div>
<p>This shows the total <code>sales</code> for each combination of
<code>store</code> and <code>product</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="aggregation-functions">Aggregation Functions<a class="anchor" aria-label="anchor" href="#aggregation-functions"></a>
</h3>
<p>Once you’ve grouped the data, you can apply different aggregation
functions. The most common ones include <code>sum()</code>,
<code>mean()</code>, <code>min()</code>, <code>max()</code>, and
<code>count()</code>. These can be used to summarize the data in various
ways.</p>
<div class="section level4">
<h4 id="calculating-the-mean">Calculating the mean<a class="anchor" aria-label="anchor" href="#calculating-the-mean"></a>
</h4>
<p>To calculate the average sales per store, you can use the
<code>mean()</code> function:</p>
<div class="codewrapper sourceCode" id="cb63">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a>mean_sales <span class="op">=</span> df.groupby(<span class="st">'store'</span>)[<span class="st">'sales'</span>].mean()</span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a><span class="bu">print</span>(mean_sales)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>store
A 33.333333
B 50.000000
C 55.000000
Name: sales, dtype: float64</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="calculating-the-count">Calculating the count<a class="anchor" aria-label="anchor" href="#calculating-the-count"></a>
</h4>
<p>You can also count how many rows there are in each group. This is
useful when you want to know how many entries exist for each group:</p>
<div class="codewrapper sourceCode" id="cb65">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a>count_sales <span class="op">=</span> df.groupby(<span class="st">'store'</span>)[<span class="st">'sales'</span>].count()</span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a><span class="bu">print</span>(count_sales)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>store
A 3
B 3
C 3
Name: sales, dtype: int64</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="using-custom-aggregations">Using custom aggregations<a class="anchor" aria-label="anchor" href="#using-custom-aggregations"></a>
</h4>
<p>You can also apply custom aggregation functions to your grouped data.
For example, let’s say you want to compute the range (difference between
the maximum and minimum) of sales for each store:</p>
<div class="codewrapper sourceCode" id="cb67">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a>range_sales <span class="op">=</span> df.groupby(<span class="st">'store'</span>)[<span class="st">'sales'</span>].agg(<span class="kw">lambda</span> x: x.<span class="bu">max</span>() <span class="op">-</span> x.<span class="bu">min</span>())</span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a><span class="bu">print</span>(range_sales)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>store
A 60
B 50
C 10
Name: sales, dtype: int64</code></pre>
</div>
<div id="aggregating-data-using-groupby" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="aggregating-data-using-groupby" class="callout-inner">
<h3 class="callout-title">Aggregating data using
<code>groupby()</code>
</h3>
<div class="callout-content">
<p>Let’s now go back to our script for transforming the education
dataset.</p>
<p>The <code>df_subset</code> <code>DataFrame</code> provides for each
country and age, the share of instruction time spent on each of the 8
selected subjets.</p>
<p>Now, we would like to compute the average share of instruction time
of each selected subject and country.</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb69">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a>df_average <span class="op">=</span> df_subset.groupby([<span class="st">"iso3"</span>, <span class="st">"subject"</span>, <span class="st">"subject_label"</span>, <span class="st">"year"</span>])[<span class="st">"value"</span>].mean().reset_index()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="handling-missing-values-during-aggregation">Handling missing values during aggregation<a class="anchor" aria-label="anchor" href="#handling-missing-values-during-aggregation"></a>
</h3>
<p>When aggregating data, missing values (<code>NaN</code>) are
typically ignored by default. However, if you need to change this
behavior, you can control how <code>pandas</code> handles them using the
<code>skipna</code> argument.</p>
<p>For example, if you want to include missing values in your
aggregation, you can do the following:</p>
<div class="codewrapper sourceCode" id="cb70">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a>    <span class="st">'store'</span>: [<span class="st">'A'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'C'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>],</span>
<span id="cb70-3"><a href="#cb70-3" tabindex="-1"></a>    <span class="st">'product'</span>: [<span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'banana'</span>, <span class="st">'apple'</span>],</span>
<span id="cb70-4"><a href="#cb70-4" tabindex="-1"></a>    <span class="st">'sales'</span>: [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="va">None</span>, <span class="dv">70</span>, <span class="dv">80</span>]</span>
<span id="cb70-5"><a href="#cb70-5" tabindex="-1"></a>}</span>
<span id="cb70-6"><a href="#cb70-6" tabindex="-1"></a></span>
<span id="cb70-7"><a href="#cb70-7" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb70-8"><a href="#cb70-8" tabindex="-1"></a></span>
<span id="cb70-9"><a href="#cb70-9" tabindex="-1"></a><span class="co"># Group by store and calculate the sum, including missing values</span></span>
<span id="cb70-10"><a href="#cb70-10" tabindex="-1"></a>agg_sales_with_na <span class="op">=</span> df.groupby(<span class="st">'store'</span>)[<span class="st">'sales'</span>].<span class="bu">sum</span>(skipna<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb70-11"><a href="#cb70-11" tabindex="-1"></a><span class="bu">print</span>(agg_sales_with_na)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>store
A     100.0
B     150.0
C      NaN
Name: sales, dtype: float64</code></pre>
</div>
<p>Notice that the sum for store C is <code>NaN</code> because the
<code>df</code> <code>DataFrame</code> contains a missing value.</p>
</div>
<div class="section level3">
<h3 id="aggregating-while-preserving-the-data-structure">Aggregating while preserving the data structure<a class="anchor" aria-label="anchor" href="#aggregating-while-preserving-the-data-structure"></a>
</h3>
<p>The <code>transform()</code> function in <code>pandas</code> allows
you to perform transformations on a group of data while preserving the
original structure. Unlike aggregation (which reduces data),
<code>transform()</code> returns a <code>DataFrame</code> or
<code>Series</code> with the same index as the original.</p>
<p>If you want to rank the sales data within each store, you can use the
<code>rank()</code> function inside <code>transform()</code>:</p>
<div class="codewrapper sourceCode" id="cb72">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a><span class="co"># Rank the sales within each store</span></span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a>df[<span class="st">'sales_rank'</span>] <span class="op">=</span> df.groupby(<span class="st">'store'</span>)[<span class="st">'sales'</span>].transform(<span class="st">'rank'</span>)</span>
<span id="cb72-3"><a href="#cb72-3" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre>
</div>
<p>Output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  store  product  sales  sales_rank
0     A    apple     10         1.0
1     A   banana     20         2.0
2     B    apple     30         1.0
3     B   banana     40         2.0
4     C    apple     50         1.0
5     C   banana     60         2.0
6     A   banana     70         3.0
7     B    apple     80         3.0</code></pre>
</div>
</div>
</section><section><h2 class="section-heading" id="exporting-data">Exporting data<a class="anchor" aria-label="anchor" href="#exporting-data"></a>
</h2>
<hr class="half-width">
<p>Once you’ve wrangled your data, you may want to export it to a
file.</p>
<div class="section level3">
<h3 id="exporting-to-csv">Exporting to CSV<a class="anchor" aria-label="anchor" href="#exporting-to-csv"></a>
</h3>
<div class="codewrapper sourceCode" id="cb74">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a>df.to_csv(<span class="st">'cleaned_data.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<blockquote>
<p><code>index=False</code> prevents the row index from being saved in
the file.</p>
</blockquote>
<p>You can also specify other options like separator
(<code>sep</code>):</p>
<div class="codewrapper sourceCode" id="cb75">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" tabindex="-1"></a>df.to_csv(<span class="st">'output_data.tsv'</span>, sep<span class="op">=</span><span class="st">'</span><span class="ch">\t</span><span class="st">'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="exporting-to-excel">Exporting to Excel<a class="anchor" aria-label="anchor" href="#exporting-to-excel"></a>
</h3>
<div class="codewrapper sourceCode" id="cb76">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a>df.to_excel(<span class="st">'cleaned_data.xlsx'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<p>You can also specify which sheet name to use with the
<code>sheet_name</code> parameter:</p>
<div class="codewrapper sourceCode" id="cb77">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a>df.to_excel(<span class="st">'output_data.xlsx'</span>, sheet_name<span class="op">=</span><span class="st">'Sheet1'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<p>If you’re dealing with multiple <code>DataFrames</code> and need to
save them in different sheets of the same Excel file, you can use
<code>ExcelWriter</code>:</p>
<div class="codewrapper sourceCode" id="cb78">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a><span class="cf">with</span> pd.ExcelWriter(<span class="st">'output_data.xlsx'</span>) <span class="im">as</span> writer:</span>
<span id="cb78-2"><a href="#cb78-2" tabindex="-1"></a>    df.to_excel(writer, sheet_name<span class="op">=</span><span class="st">'Sheet1'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb78-3"><a href="#cb78-3" tabindex="-1"></a>    df.to_excel(writer, sheet_name<span class="op">=</span><span class="st">'Sheet2'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="other-supported-export-formats">Other supported export formats<a class="anchor" aria-label="anchor" href="#other-supported-export-formats"></a>
</h3>
<p>Other supported export formats include:</p>
<table class="table">
<colgroup>
<col width="14%">
<col width="32%">
<col width="52%">
</colgroup>
<thead><tr class="header">
<th>Format</th>
<th>Method</th>
<th>Example Usage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>CSV</strong></td>
<td><code>DataFrame.to_csv()</code></td>
<td><code>df.to_csv('output_data.csv')</code></td>
</tr>
<tr class="even">
<td><strong>Excel</strong></td>
<td><code>DataFrame.to_excel()</code></td>
<td><code>df.to_excel('output_data.xlsx')</code></td>
</tr>
<tr class="odd">
<td><strong>JSON</strong></td>
<td><code>DataFrame.to_json()</code></td>
<td><code>df.to_json('output_data.json')</code></td>
</tr>
<tr class="even">
<td><strong>SQL</strong></td>
<td><code>DataFrame.to_sql()</code></td>
<td><code>df.to_sql('my_table', conn)</code></td>
</tr>
<tr class="odd">
<td><strong>HDF5</strong></td>
<td><code>DataFrame.to_hdf()</code></td>
<td><code>df.to_hdf('output_data.h5', key='df')</code></td>
</tr>
<tr class="even">
<td><strong>Parquet</strong></td>
<td><code>DataFrame.to_parquet()</code></td>
<td><code>df.to_parquet('output_data.parquet')</code></td>
</tr>
<tr class="odd">
<td><strong>Feather</strong></td>
<td><code>DataFrame.to_feather()</code></td>
<td><code>df.to_feather('output_data.feather')</code></td>
</tr>
<tr class="even">
<td><strong>Pickle</strong></td>
<td><code>DataFrame.to_pickle()</code></td>
<td><code>df.to_pickle('output')</code></td>
</tr>
</tbody>
</table>
<p>Each of these export functions has additional parameters for
customizing how the data is saved (e.g., file paths, indexes, column
selections). You can refer to the pandas documentation for more advanced
options for each method.</p>
</div>
</section></section><section id="aio-05-data_visualisation"><p>Content from <a href="05-data_visualisation.html">Visualizations</a></p>
<hr>
<p>Last updated on 2024-12-11 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/05-data_visualisation.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 120 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I visualize tabular data in Python?</li>
<li>How can I group several plots together?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>create graphs and other visualizations using tabular data</li>
<li>group plots together to make comparative visualizations</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>In this lesson, we will explore how to create visualizations of your
data using three popular Python libraries:</p>
<ul>
<li><p><strong>Matplotlib</strong> is a foundational library for
creating static visualizations in Python. It provides a wide range of
charts, such as line plots, bar charts, scatter plots, histograms, and
more. While it offers great flexibility, it requires more code for
customization, making it best suited for basic to moderately complex
visualizations.</p></li>
<li><p><strong>Seaborn</strong> builds on top of Matplotlib and provides
a high-level interface for creating attractive and informative
statistical graphics. Seaborn comes with several built-in themes and
color palettes, and it simplifies many common tasks, such as visualizing
data distributions and relationships between variables. It’s especially
powerful when working with Pandas DataFrames and when creating plots
like boxplots, heatmaps, and pair plots.</p></li>
<li><p><strong>Plotly</strong> is a modern, interactive graphing library
that allows you to create beautiful and interactive web-based
visualizations. It is designed for creating visualizations that allow
users to zoom, hover, and interact with the chart dynamically. Plotly is
particularly useful for creating dashboards, 3D plots, and other
interactive visualizations that engage users in exploring the
data.</p></li>
</ul>
<p>These three libraries can be imported using the following
aliases:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="basic-plots-with-matplotlib">Basic plots with <code>matplotlib</code>
<a class="anchor" aria-label="anchor" href="#basic-plots-with-matplotlib"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="creating-a-figure-and-axes">Creating a figure and axes<a class="anchor" aria-label="anchor" href="#creating-a-figure-and-axes"></a>
</h3>
<p>In <code>matplotlib</code>, the <code>plt.subplots()</code> function
is a common way to create a figure (<code>fig</code>) and axes
(<code>ax</code>) objects that you can work with to create and customize
your plots.</p>
<p>What are Figures and Axes?</p>
<ul>
<li>Figure (<code>fig</code>):
<ul>
<li>The figure is the entire container for your plot. It holds
everything—axes, titles, labels, and any other elements of the
plot.</li>
<li>You can have multiple figures in a single Python session, and each
figure can hold multiple subplots or axes.</li>
</ul>
</li>
<li>Axes (<code>ax</code>):
<ul>
<li>The axes is where your actual plot will appear. It’s a region of the
figure that holds the graph. Each axes object has methods for plotting,
adding titles, modifying labels, and other customizations.</li>
<li>An axes can represent various types of charts, like line plots, bar
charts, histograms, etc. Each plot you create will be associated with
one axes.</li>
</ul>
</li>
</ul>
<div id="ways-to-create-a-matplotlib-plot" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="ways-to-create-a-matplotlib-plot" class="callout-inner">
<h3 class="callout-title">2 ways to create a matplotlib plot</h3>
<div class="callout-content">
<p>In <code>matplotlib</code>, there are two main ways to create
plots:</p>
<ul>
<li>The state-based interface using <code>plt.plot()</code> and similar
functions. This is simpler and often fine for quick plots.</li>
</ul>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Basic line plot</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>plt.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>])</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<ul>
<li>The object-oriented approach using
<code>fig, ax = plt.subplots()</code>, which is recommended for more
control and flexibility.</li>
</ul>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Create a figure and axis</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Plot on the axis</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>])</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<p>When you use <code>plt.subplots()</code>, you get access to the
figure and axes objects, allowing you to customize everything from the
title, labels, grid, axis limits, and more, in a very controlled manner.
This is the approach we will use in this episode.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="customizing-plots">Customizing Plots<a class="anchor" aria-label="anchor" href="#customizing-plots"></a>
</h3>
<p>In this example, we change the line style and color, add a title,
axis labels and legend:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># Plotting data</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>], linestyle<span class="op">=</span><span class="st">'--'</span>, color<span class="op">=</span><span class="st">'r'</span>, label<span class="op">=</span><span class="st">"y = x^2"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co"># Adding title and labels</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>ax.set_title(<span class="st">'Simple Line Plot'</span>)</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>ax.set_xlabel(<span class="st">'X Axis'</span>)</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Y Axis'</span>)</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co"># Adding a legend</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>ax.legend()</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<div id="line-plot" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="line-plot" class="callout-inner">
<h3 class="callout-title">Line plot</h3>
<div class="callout-content">
<p>Using the education dataset we worked on in the previous episode,
write the lines of code to plot the share of Mathematics in the total
instruction time of students aged 6 to 13 years old in Austria.</p>
<ul>
<li>Use the <code>education_subset.csv</code> file.</li>
<li>The X axis will show the students’ age (<code>age</code>
column).</li>
<li>The Y axis will show the share of Mathematics in the total
instruction time of students.</li>
<li>Add the axis labels and a title.</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co"># Reading the data into a DataFrame</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="vs">r"education_subset.csv"</span>)</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co"># Selecting Austria and Mathematics only</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>df <span class="op">=</span> df[(df[<span class="st">'iso3'</span>]<span class="op">==</span><span class="st">'AUT'</span>)<span class="op">&amp;</span>(df[<span class="st">'subject_label'</span>]<span class="op">==</span><span class="st">'Mathematics'</span>)]</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co"># Changing the type of the age column to integer</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>df[<span class="st">'age'</span>] <span class="op">=</span> df[<span class="st">'age'</span>].<span class="bu">str</span>.replace(<span class="st">'Y'</span>, <span class="st">''</span>).astype(<span class="bu">int</span>)</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co"># Sorting values by age, as it will appear on the graph</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>df.sort_values(by<span class="op">=</span>[<span class="st">'age'</span>], ascending<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="co"># Creating figure and axes</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="co"># Plotting the value for each age</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a>ax.plot(df[<span class="st">'age'</span>], df[<span class="st">'value'</span>])</span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="co"># Adding axis labels and title</span></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>ax.set_title(<span class="st">'Austria'</span>)</span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Students age'</span>)</span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Share of Mathematics in total instruction time'</span>)</span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="types-of-plot">Types of plot<a class="anchor" aria-label="anchor" href="#types-of-plot"></a>
</h3>
<p>On top of the line plot that we already created using
<code>ax.plot()</code>, matplotlib offers many other types of plots,
including:</p>
<ul>
<li>Bar plot</li>
</ul>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>categories <span class="op">=</span> [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'D'</span>]</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>values <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">2</span>]</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="co"># Bar plot</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>ax.bar(categories, values)</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<ul>
<li>Horizontal bar plot</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Horizontal bar plot</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>ax.barh(categories, values)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<ul>
<li>Stacked bar plot</li>
</ul>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>categories <span class="op">=</span> [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>]</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>values1 <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">5</span>]</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>values2 <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co"># Stacked bar plot</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>ax.bar(categories, values1, label<span class="op">=</span><span class="st">'Category 1'</span>)</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>ax.bar(categories, values2, bottom<span class="op">=</span>values1, label<span class="op">=</span><span class="st">'Category 2'</span>)</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>ax.legend()</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<ul>
<li>Scatter plot</li>
</ul>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>x <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>y <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>]</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="co"># Scatter plot</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>ax.scatter(x, y)</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<ul>
<li>Pie charts</li>
</ul>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>sizes <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>]</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'D'</span>]</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co"># Pie chart</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>ax.pie(sizes, labels<span class="op">=</span>labels)</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="multiple-subplots">Multiple Subplots<a class="anchor" aria-label="anchor" href="#multiple-subplots"></a>
</h3>
<p>Using <code>fig, ax = plt.subplots()</code> allows you to create
multiple subplots within a single figure.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="co"># Plotting in the first subplot</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>ax[<span class="dv">0</span>].plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>])</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">'First Plot'</span>)</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co"># Plotting in the second subplot</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>ax[<span class="dv">1</span>].bar([<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>], [<span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">5</span>])</span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">'Second Plot'</span>)</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="saving-plots-to-files">Saving plots to files<a class="anchor" aria-label="anchor" href="#saving-plots-to-files"></a>
</h3>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="co"># Plotting</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>])</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="co"># Saving the plot</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>fig.savefig(<span class="st">'plot.png'</span>)</span></code></pre>
</div>
<p>Matplotlib supports multiple formats, including PNG, PDF, SVG, and
more. Use <code>fig.savefig('filename.format')</code>.</p>
<div id="multiple-subplots-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="multiple-subplots-1" class="callout-inner">
<h3 class="callout-title">Multiple subplots</h3>
<div class="callout-content">
<p>Using the education dataset we worked on in the previous episode,
create a figure with 2 subplots (bar plots), showing the share of
Mathematics in the total instruction time of students aged 6 and 13
years old in all countries (one bar per country) where data is
available.</p>
<ul>
<li>Use the <code>education_subset.csv</code> file.</li>
<li>The X axis will show the country codes (<code>iso3</code>
column).</li>
<li>The Y axis will show the share of Mathematics in the total
instruction time of students (<code>value</code> column).</li>
<li>The first subplot will show values for 6 year old students, the
second subplot will show values for 13 year old students</li>
<li>Add the axis labels and a title to each subplot.</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Reading the data into a DataFrame</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="vs">r"education_subset.csv"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="co"># Selecting Mathematics</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>df <span class="op">=</span> df[df[<span class="st">'subject_label'</span>]<span class="op">==</span><span class="st">'Mathematics'</span>]</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="co"># Sorting values by country code, as it will appear on the graph</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>df.sort_values(by<span class="op">=</span>[<span class="st">'iso3'</span>], ascending<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="co"># Create 2 dataframes, one for 6 years old, one for 13 years old</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>df6 <span class="op">=</span> df[df[<span class="st">'age'</span>]<span class="op">==</span><span class="st">'Y6'</span>]</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>df13 <span class="op">=</span> df[df[<span class="st">'age'</span>]<span class="op">==</span><span class="st">'Y13'</span>]</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="co"># Creating figure and axes</span></span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">2</span>, sharey<span class="op">=</span><span class="va">True</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">10</span>))</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a><span class="co"># Plotting the bars in each axes</span></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a>ax[<span class="dv">0</span>].bar(df6[<span class="st">'iso3'</span>], df6[<span class="st">'value'</span>])</span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a>ax[<span class="dv">1</span>].bar(df13[<span class="st">'iso3'</span>], df13[<span class="st">'value'</span>])</span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a></span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a><span class="co"># Adding axis labels</span></span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">'Share of Mathematics</span><span class="ch">\n</span><span class="st">in total instruction time'</span>)</span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a></span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a><span class="co"># Rotate the country codes</span></span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a><span class="cf">for</span> ax_i <span class="kw">in</span> ax: </span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a>    ax_i.tick_params(axis<span class="op">=</span><span class="st">'x'</span>, labelrotation <span class="op">=</span> <span class="dv">45</span>)</span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a>    </span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a><span class="co"># Add a title to each axes</span></span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">'6 years old'</span>)</span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">'13 years old'</span>)</span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a></span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="quick-and-appealing-plots-with-seaborn">Quick and appealing plots with Seaborn<a class="anchor" aria-label="anchor" href="#quick-and-appealing-plots-with-seaborn"></a>
</h2>
<hr class="half-width">
<p>Both Seaborn and Matplotlib are popular Python libraries for data
visualization, but they serve different purposes:</p>
<ol style="list-style-type: decimal">
<li>High-Level vs. Low-Level</li>
</ol>
<ul>
<li>
<strong>Matplotlib</strong> is a low-level library, offering full
control over plots but requiring more code.</li>
<li>
<strong>Seaborn</strong> is a high-level library built on top of
Matplotlib, offering easier and quicker creation of visually appealing
statistical plots.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Aesthetics</li>
</ol>
<ul>
<li>
<strong>Matplotlib</strong> produces basic plots by default,
requiring manual styling for better visuals.</li>
<li>
<strong>Seaborn</strong> comes with default styles, making it easier
to create polished plots.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Plotting Types</li>
</ol>
<ul>
<li>
<strong>Matplotlib</strong> supports a wide range of plots but
requires extra work for advanced statistical plots.</li>
<li>
<strong>Seaborn</strong> offers specialized plots for statistics
(e.g., violin plots, pair plots) with minimal effort.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Integration with Pandas</li>
</ol>
<ul>
<li>
<strong>Matplotlib</strong> doesn’t integrate directly with Pandas
DataFrames.</li>
<li>
<strong>Seaborn</strong> integrates smoothly with Pandas, allowing
you to pass DataFrame columns directly into plotting functions.</li>
</ul>
<p>However, Seaborn is built on top of Matplotlib, meaning that it
inherits Matplotlib’s flexibility, allowing users to make more detailed
customizations as needed.</p>
<p>Seaborn includes several built-in datasets, such as
<code>tips</code>, <code>iris</code>, and <code>flights</code>, that we
will use throughout this lesson for our examples. These datasets are
great for experimenting with Seaborn’s plotting functions without
needing to import external data files.</p>
<div class="section level3">
<h3 id="creating-seaborn-plots">Creating Seaborn plots<a class="anchor" aria-label="anchor" href="#creating-seaborn-plots"></a>
</h3>
<p>With Seaborn too, the <code>plt.subplots()</code> function is used to
create a figure (<code>fig</code>) and one or more axes
(<code>ax</code>) that can be used to draw plots.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="co"># Create the figure and axes</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="co"># Use Seaborn to create a plot on the axes</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>sns.<span class="bu">set</span>(style<span class="op">=</span><span class="st">"whitegrid"</span>)</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>data <span class="op">=</span> sns.load_dataset(<span class="st">"tips"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span><span class="st">"day"</span>, y<span class="op">=</span><span class="st">"total_bill"</span>, data<span class="op">=</span>data, ax<span class="op">=</span>ax)</span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="co"># Customize with Matplotlib</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>ax.set_title(<span class="st">"Total Bill by Day"</span>)</span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a>ax.set_xlabel(<span class="st">"Day of the Week"</span>)</span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Total Bill ($)"</span>)</span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<p>In this example, we create a boxplot using Seaborn, but we specify
the axes (<code>ax</code>) created with <code>plt.subplots()</code>.
This allows us to use Matplotlib to customize the plot’s title, labels,
and size.</p>
<p>The other types of graphs available in Seaborn include:</p>
<ul>
<li>Distribution plots</li>
</ul>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>sns.histplot(data[<span class="st">"total_bill"</span>], ax<span class="op">=</span>ax)</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>ax.set_title(<span class="st">"Histogram of Total Bill"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<ul>
<li>Scatter plots</li>
</ul>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">"total_bill"</span>, y<span class="op">=</span><span class="st">"tip"</span>, data<span class="op">=</span>data, ax<span class="op">=</span>ax)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>ax.set_title(<span class="st">"Total Bill vs Tip"</span>)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<p>Seaborn’s <code>scatterplot()</code> function allows you to add
additional features like color and size based on other variables.</p>
<ul>
<li>Line plots</li>
</ul>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>sns.lineplot(x<span class="op">=</span><span class="st">"size"</span>, y<span class="op">=</span><span class="st">"total_bill"</span>, data<span class="op">=</span>data, ax<span class="op">=</span>ax)</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>ax.set_title(<span class="st">"Total Bill vs Size of Party"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<div id="line-plot-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="line-plot-1" class="callout-inner">
<h3 class="callout-title">Line plot</h3>
<div class="callout-content">
<p>Using the education dataset we worked on in the previous episode,
create a lineplot, showing the share of each subject in the total
instruction time of students in Austria over time.</p>
<ul>
<li>Use the <code>education_subset.csv</code> file.</li>
<li>The X axis will show the students’ age (<code>age</code>
column).</li>
<li>The Y axis will show the share of each subject in the total
instruction time of students (<code>value</code> column).</li>
<li>The color of the lines will indicate the subject
(<code>subject_label</code> column).</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co"># Reading the data into a DataFrame</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="vs">r"education_subset.csv"</span>)</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="co"># Selecting Austria</span></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>df <span class="op">=</span> df[df[<span class="st">'iso3'</span>]<span class="op">==</span><span class="st">'AUT'</span>]</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="co"># Changing the type of the age column to integer</span></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>df[<span class="st">'age'</span>] <span class="op">=</span> df[<span class="st">'age'</span>].<span class="bu">str</span>.replace(<span class="st">'Y'</span>, <span class="st">''</span>).astype(<span class="bu">int</span>)</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a><span class="co"># Creating figure and axes</span></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a><span class="co"># Plot the lines</span></span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">'age'</span>, y<span class="op">=</span><span class="st">'value'</span>, hue<span class="op">=</span><span class="st">'subject_label'</span>, ax<span class="op">=</span>ax)</span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a><span class="co"># Adding axis labels and title</span></span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a>ax.set_title(<span class="st">'Austria'</span>)</span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Students age'</span>)</span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Share of Mathematics in total instruction time'</span>)</span>
<span id="cb18-20"><a href="#cb18-20" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" tabindex="-1"></a><span class="co"># Change the default legend title</span></span>
<span id="cb18-22"><a href="#cb18-22" tabindex="-1"></a>ax.legend(title<span class="op">=</span><span class="st">'Subject'</span>)</span>
<span id="cb18-23"><a href="#cb18-23" tabindex="-1"></a></span>
<span id="cb18-24"><a href="#cb18-24" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="line-plot-with-a-loop" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="line-plot-with-a-loop" class="callout-inner">
<h3 class="callout-title">Line plot with a loop</h3>
<div class="callout-content">
<p>Now let’s do the same as before, but now we want one graph for each
country where data is available.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Reading the data into a DataFrame</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="vs">r"education_subset.csv"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="co"># Changing the type of the age column to integer</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>df[<span class="st">'age'</span>] <span class="op">=</span> df[<span class="st">'age'</span>].<span class="bu">str</span>.replace(<span class="st">'Y'</span>, <span class="st">''</span>).astype(<span class="bu">int</span>)</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="cf">for</span> iso3 <span class="kw">in</span> df.iso3.unique(): <span class="co"># For loop over the iso3 codes</span></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a>    <span class="co"># Select the country</span></span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a>    df_iso <span class="op">=</span> df[df[<span class="st">'iso3'</span>]<span class="op">==</span>iso3]    </span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a>    <span class="co"># Creating figure and axes</span></span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a>    fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a>    </span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a>    <span class="co"># Plot the lines</span></span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a>    sns.lineplot(data<span class="op">=</span>df_iso, x<span class="op">=</span><span class="st">'age'</span>, y<span class="op">=</span><span class="st">'value'</span>, hue<span class="op">=</span><span class="st">'subject_label'</span>, ax<span class="op">=</span>ax)</span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a>    </span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a>    <span class="co"># Adding axis labels and title</span></span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a>    ax.set_title(<span class="ss">f'</span><span class="sc">{</span>iso3<span class="sc">}</span><span class="ss">'</span>) <span class="co"># Using a f-string for using the iso3 variable in the string</span></span>
<span id="cb19-21"><a href="#cb19-21" tabindex="-1"></a>    ax.set_xlabel(<span class="st">'Students age'</span>)</span>
<span id="cb19-22"><a href="#cb19-22" tabindex="-1"></a>    ax.set_ylabel(<span class="st">'Share of Mathematics in total instruction time'</span>)</span>
<span id="cb19-23"><a href="#cb19-23" tabindex="-1"></a>    </span>
<span id="cb19-24"><a href="#cb19-24" tabindex="-1"></a>    <span class="co"># Change the default legend title</span></span>
<span id="cb19-25"><a href="#cb19-25" tabindex="-1"></a>    ax.legend(title<span class="op">=</span><span class="st">'Subject'</span>)</span>
<span id="cb19-26"><a href="#cb19-26" tabindex="-1"></a>    </span>
<span id="cb19-27"><a href="#cb19-27" tabindex="-1"></a>    <span class="co"># Saving the plot</span></span>
<span id="cb19-28"><a href="#cb19-28" tabindex="-1"></a>    fig.savefig(<span class="ss">f'</span><span class="sc">{</span>iso3<span class="sc">}</span><span class="ss">.png'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="customizing-seaborn-plots">Customizing Seaborn plots<a class="anchor" aria-label="anchor" href="#customizing-seaborn-plots"></a>
</h3>
<p>One of the benefits of using Seaborn is its simplicity and attractive
default themes, but you can still customize the appearance of plots
using Matplotlib functions. For example, you can set the plot’s title,
labels, or customize the grid.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="co"># Customizing plot appearance</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span><span class="st">"day"</span>, y<span class="op">=</span><span class="st">"total_bill"</span>, data<span class="op">=</span>data, ax<span class="op">=</span>ax)</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>ax.set_title(<span class="st">"Total Bill by Day"</span>)</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a>ax.set_xlabel(<span class="st">"Day of the Week"</span>)</span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Total Bill ($)"</span>)</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a>ax.grid(<span class="va">True</span>)  <span class="co"># Add gridlines</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
</section><section><h2 class="section-heading" id="interactive-plots-with-plotly">Interactive plots with Plotly<a class="anchor" aria-label="anchor" href="#interactive-plots-with-plotly"></a>
</h2>
<hr class="half-width">
<p>Plotly is an interactive graphing library that enables the creation
of sophisticated visualizations that are interactive by default. Unlike
static libraries like Matplotlib and Seaborn, Plotly allows you to zoom,
pan, and hover over data points to inspect values directly in the
plot.</p>
<p>Advantages of Plotly include:</p>
<ul>
<li>Interactive Plots: Plots in Plotly are interactive out of the box,
making them ideal for exploring data.</li>
<li>Web Integration: Plotly graphs can easily be integrated into web
applications, such as Dash.</li>
<li>High-quality Visualizations: Plotly can generate a wide range of
high-quality, aesthetically appealing plots.</li>
</ul>
<div class="section level3">
<h3 id="importing-plotly">Importing <code>plotly</code>
<a class="anchor" aria-label="anchor" href="#importing-plotly"></a>
</h3>
<p>Plotly’s most commonly used module for creating visualizations is
plotly.express. Here’s how to import it:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span></code></pre>
</div>
<p><code>plotly.graph_objects</code> is another module in Plotly that
provides more flexibility for creating complex visualizations. However,
we will primarily focus on plotly.express as it simplifies the syntax
for most common plots.</p>
</div>
<div class="section level3">
<h3 id="creating-simple-plots-with-plotly-express">Creating Simple Plots with Plotly Express<a class="anchor" aria-label="anchor" href="#creating-simple-plots-with-plotly-express"></a>
</h3>
<div class="section level4">
<h4 id="line-plot-2">Line Plot<a class="anchor" aria-label="anchor" href="#line-plot-2"></a>
</h4>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="co"># Sample data</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>data <span class="op">=</span> pd.DataFrame({</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="st">"Date"</span>: pd.date_range(start<span class="op">=</span><span class="st">"2024-01-01"</span>, periods<span class="op">=</span><span class="dv">10</span>, freq<span class="op">=</span><span class="st">"D"</span>),</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="st">"Value"</span>: [<span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">13</span>, <span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">18</span>, <span class="dv">19</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">22</span>]</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>})</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a><span class="co"># Create a line plot</span></span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a>fig <span class="op">=</span> px.line(data, x<span class="op">=</span><span class="st">"Date"</span>, y<span class="op">=</span><span class="st">"Value"</span>, title<span class="op">=</span><span class="st">"Simple Line Plot"</span>)</span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a>fig.write_html(<span class="st">"plot.html"</span>)</span></code></pre>
</div>
<p>In this code:</p>
<ul>
<li>
<code>px.line()</code> creates the line plot.</li>
<li>The x and y arguments specify which columns to plot.</li>
<li>
<code>fig.write_html()</code> saved the plot as a HTML file.</li>
</ul>
</div>
<div class="section level4">
<h4 id="scatter-plot">Scatter Plot<a class="anchor" aria-label="anchor" href="#scatter-plot"></a>
</h4>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="co"># Sample data</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a>data <span class="op">=</span> pd.DataFrame({</span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="st">"X"</span>: np.random.rand(<span class="dv">100</span>),</span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a><span class="st">"Y"</span>: np.random.rand(<span class="dv">100</span>)</span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a>})</span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a><span class="co"># Create a scatter plot</span></span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a>fig <span class="op">=</span> px.scatter(data, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, title<span class="op">=</span><span class="st">"Scatter Plot"</span>)</span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a>fig.write_html(<span class="st">"plot.html"</span>)</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="bar-chart">Bar Chart<a class="anchor" aria-label="anchor" href="#bar-chart"></a>
</h4>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>categories <span class="op">=</span> [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'D'</span>, <span class="st">'E'</span>]</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>values <span class="op">=</span> [<span class="dv">23</span>, <span class="dv">45</span>, <span class="dv">56</span>, <span class="dv">78</span>, <span class="dv">33</span>]</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>data <span class="op">=</span> pd.DataFrame({<span class="st">"Category"</span>: categories, <span class="st">"Value"</span>: values})</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a>fig <span class="op">=</span> px.bar(data, x<span class="op">=</span><span class="st">"Category"</span>, y<span class="op">=</span><span class="st">"Value"</span>, title<span class="op">=</span><span class="st">"Bar Chart"</span>)</span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a>fig.write_html(<span class="st">"plot.html"</span>)</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="pie-chart">Pie Chart<a class="anchor" aria-label="anchor" href="#pie-chart"></a>
</h4>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># Sample data for Pie Chart</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>categories <span class="op">=</span> [<span class="st">'Red'</span>, <span class="st">'Blue'</span>, <span class="st">'Green'</span>]</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>values <span class="op">=</span> [<span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">25</span>]</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>data <span class="op">=</span> pd.DataFrame({<span class="st">"Category"</span>: categories, <span class="st">"Value"</span>: values})</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a><span class="co"># Create a pie chart</span></span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>fig <span class="op">=</span> px.pie(data, names<span class="op">=</span><span class="st">"Category"</span>, values<span class="op">=</span><span class="st">"Value"</span>, title<span class="op">=</span><span class="st">"Pie Chart"</span>)</span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>fig.write_html(<span class="st">"plot.html"</span>)</span></code></pre>
</div>
</div>
</div>
<div class="section level3">
<h3 id="customizing-plots-in-plotly-express">Customizing Plots in Plotly Express<a class="anchor" aria-label="anchor" href="#customizing-plots-in-plotly-express"></a>
</h3>
<p>Plotly Express automatically makes plots interactive, but you can
also customize your plots to make them more informative and visually
appealing.</p>
<div class="section level4">
<h4 id="adding-titles-and-labels">Adding Titles and Labels<a class="anchor" aria-label="anchor" href="#adding-titles-and-labels"></a>
</h4>
<p>You can modify the title and axis labels of your plot:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>title<span class="op">=</span><span class="st">"Updated Plot Title"</span>,</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>xaxis_title<span class="op">=</span><span class="st">"Custom X Axis Label"</span>,</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>yaxis_title<span class="op">=</span><span class="st">"Custom Y Axis Label"</span></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>)</span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>fig.write_html(<span class="st">"plot.html"</span>)</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="changing-colors">Changing Colors<a class="anchor" aria-label="anchor" href="#changing-colors"></a>
</h4>
<p>You can change the color of data points or bars based on a
categorical variable:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># Adding a color dimension</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>data[<span class="st">'Color'</span>] <span class="op">=</span> np.random.choice([<span class="st">'Red'</span>, <span class="st">'Blue'</span>, <span class="st">'Green'</span>], size<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>fig <span class="op">=</span> px.scatter(data, x<span class="op">=</span><span class="st">"X"</span>, y<span class="op">=</span><span class="st">"Y"</span>, color<span class="op">=</span><span class="st">"Color"</span>, title<span class="op">=</span><span class="st">"Colored Scatter Plot"</span>)</span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>fig.write_html(<span class="st">"plot.html"</span>)</span></code></pre>
</div>
<p>In this example, the color argument differentiates data points by
color based on the <code>Color</code> column.</p>
</div>
</div>
<div class="section level3">
<h3 id="plotly-express-vs--plotly-graph-objects">Plotly Express vs. Plotly Graph Objects<a class="anchor" aria-label="anchor" href="#plotly-express-vs--plotly-graph-objects"></a>
</h3>
<p>While <code>plotly.express</code> is great for creating quick, simple
plots, there are cases when you might need more control over the plot’s
components. This is where <code>plotly.graph_objects</code> comes
in.</p>
<p>Plotly Graph Objects (<code>go</code>) is a lower-level interface
that gives you finer control over the layout and elements of your plot.
With go, you can manually define traces (such as lines, bars, and
scatter plots), customize plot attributes, and handle more complex
visualizations.</p>
<p>When to use <code>plotly.graph_objects</code>:</p>
<ul>
<li>
<strong>Multiple Traces</strong>: When you need to add different
types of plots (like a line and scatter plot) in the same figure.</li>
<li>
<strong>Advanced Customization</strong>: For precise control over
each plot element (e.g., customizing legends, adding annotations).</li>
<li>
<strong>Complex Layouts</strong>: When you need subplots or advanced
arrangements of figures.</li>
</ul>
<p>For example, if you wanted to combine a line and scatter plot on the
same figure, you would use <code>plotly.graph_objects</code>:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="co"># Create a figure with both a scatter and line trace</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="co"># Scatter plot trace</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a>fig.add_trace(go.Scatter(x<span class="op">=</span>data[<span class="st">"X"</span>], y<span class="op">=</span>data[<span class="st">"Y"</span>], mode<span class="op">=</span><span class="st">'markers'</span>, name<span class="op">=</span><span class="st">"Scatter"</span>))</span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a><span class="co"># Line plot trace</span></span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" tabindex="-1"></a>fig.add_trace(go.Scatter(x<span class="op">=</span>data[<span class="st">"X"</span>], y<span class="op">=</span>data[<span class="st">"Y"</span>], mode<span class="op">=</span><span class="st">'lines'</span>, name<span class="op">=</span><span class="st">"Line"</span>))</span>
<span id="cb28-14"><a href="#cb28-14" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" tabindex="-1"></a><span class="co"># Save the plot</span></span>
<span id="cb28-16"><a href="#cb28-16" tabindex="-1"></a></span>
<span id="cb28-17"><a href="#cb28-17" tabindex="-1"></a>fig.write_html(<span class="st">"plot.html"</span>)</span></code></pre>
</div>
<p>While <code>plotly.express</code> handles this type of task easily
with fewer lines of code, <code>go</code> offers more flexibility for
complex customizations.</p>
</div>
<div class="section level3">
<h3 id="interactive-features-of-plotly-express">Interactive Features of Plotly Express<a class="anchor" aria-label="anchor" href="#interactive-features-of-plotly-express"></a>
</h3>
<p>Plotly plots are interactive by default. These features include:</p>
<ul>
<li>
<strong>Zooming and Panning</strong>: Users can zoom into a region
of the plot by dragging the mouse, and pan across it.</li>
<li>
<strong>Hovering</strong>: When you hover over data points, Plotly
shows additional information (e.g., exact values).</li>
<li>
<strong>Saving and Exporting</strong>: You can save your plot as an
image or an interactive HTML file.</li>
</ul>
</div>
</section></section><section id="aio-06-loops"><p>Content from <a href="06-loops.html">Loops and Conditional Logic</a></p>
<hr>
<p>Last updated on 2024-12-10 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/06-loops.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I do the same operations on many different values?</li>
<li>How can my programs do different things based on data values?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>identify and create loops</li>
<li>use logical statements to allow for decision-based operations in
code</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>This episode contains two lessons:</p>
<ol style="list-style-type: decimal">
<li><a href="#repeating-actions-with-loops">Repeating Actions with
Loops</a></li>
<li><a href="#making-choices-with-conditional-logic">Making Choices with
Conditional Logic</a></li>
</ol>
<section><h2 class="section-heading" id="repeating-actions-with-loops">Repeating Actions with Loops<a class="anchor" aria-label="anchor" href="#repeating-actions-with-loops"></a>
</h2>
<hr class="half-width">
<p>In the <a href="09-visualizations.html">episode about visualizing
data</a>, we will see Python code that plots values of interest from our
first inflammation dataset (<code>inflammation-01.csv</code>), which
revealed some suspicious features.</p>
<figure><img src="../fig/03-loop_2_0.png" alt="Line graphs showing average, maximum, and minimum inflammation across all patients over a 40-day period." class="figure mx-auto d-block"></figure><p>We have a dozen data sets right now and potentially more on the way
if Dr. Maverick can keep up their surprisingly fast clinical trial rate.
We want to create plots for all of our data sets with a single
statement. To do that, we’ll have to teach the computer how to repeat
things.</p>
<p>An example task that we might want to repeat is accessing numbers in
a list, which we will do by printing each number on a line of its
own.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span></code></pre>
</div>
<p>In Python, <a href="04-lists.html">a list</a> is basically an ordered
collection of elements, and every element has a unique number associated
with it — its index. This means that we can access elements in a list
using their indices. For example, we can get the first number in the
list <code>odds</code>, by using <code>odds[0]</code>. One way to print
each number is to use four <code>print</code> statements:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">0</span>])</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">1</span>])</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">2</span>])</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">3</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">7</span></span></code></pre>
</div>
<p>This is a bad approach for three reasons:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Not scalable</strong>. Imagine you need to print a list
that has hundreds of elements. It might be easier to type them in
manually.</p></li>
<li><p><strong>Difficult to maintain</strong>. If we want to decorate
each printed element with an asterisk or any other character, we would
have to change four lines of code. While this might not be a problem for
small lists, it would definitely be a problem for longer ones.</p></li>
<li><p><strong>Fragile</strong>. If we use it with a list that has more
elements than what we initially envisioned, it will only display part of
the list’s elements. A shorter list, on the other hand, will cause an
error because it will be trying to display elements of the list that do
not exist.</p></li>
</ol>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>]</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">0</span>])</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">1</span>])</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">2</span>])</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">3</span>])</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="dv">3</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="dv">5</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-3-7974b6cdaf14&gt; in &lt;module&gt;()
      3 print(odds[1])
      4 print(odds[2])
----&gt; 5 print(odds[3])

IndexError: list index out of range</code></pre>
</div>
<p>Here’s a better approach: a <a href="reference.html#for-loop">for
loop</a></p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> odds:</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>    <span class="bu">print</span>(num)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">7</span></span></code></pre>
</div>
<p>This is shorter — certainly shorter than something that prints every
number in a hundred-number list — and more robust as well:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">11</span>]</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> odds:</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    <span class="bu">print</span>(num)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">7</span></span>
<span><span class="fl">9</span></span>
<span><span class="fl">11</span></span></code></pre>
</div>
<p>The improved version uses a <a href="reference.html#for-loop">for
loop</a> to repeat an operation — in this case, printing — once for each
thing in a sequence. The general form of a loop is:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="cf">for</span> variable <span class="kw">in</span> collection:</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>    <span class="co"># do things using variable, such as print</span></span></code></pre>
</div>
<p>Using the odds example above, the loop might look like this:</p>
<figure><img src="../fig/05-loops_image_num.png" alt="Loop variable 'num' being assigned the value of each element in the list odds in turn andthen being printed" class="figure mx-auto d-block"></figure><p>where each number (<code>num</code>) in the variable
<code>odds</code> is looped through and printed one number after
another. The other numbers in the diagram denote which loop cycle the
number was printed in (1 being the first loop cycle, and 6 being the
final loop cycle).</p>
<p>We can call the <a href="reference.html#loop-variable">loop
variable</a> anything we like, but there must be a colon at the end of
the line starting the loop, and we must indent anything we want to run
inside the loop. Unlike many other languages, there is no command to
signify the end of the loop body (e.g., <code>end for</code>);
everything indented after the <code>for</code> statement belongs to the
loop.</p>
<div id="whats-in-a-name" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="whats-in-a-name" class="callout-inner">
<h3 class="callout-title">What’s in a name?</h3>
<div class="callout-content">
<p>In the example above, the loop variable was given the name
<code>num</code> as a mnemonic; it is short for ‘number’. We can choose
any name we want for variables. We might just as easily have chosen the
name <code>banana</code> for the loop variable, as long as we use the
same name when we invoke the variable inside the loop:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">11</span>]</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="cf">for</span> banana <span class="kw">in</span> odds:</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>   <span class="bu">print</span>(banana)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">7</span></span>
<span><span class="fl">9</span></span>
<span><span class="fl">11</span></span></code></pre>
</div>
<p>It is a good idea to choose variable names that are meaningful,
otherwise it would be more difficult to understand what the loop is
doing.</p>
</div>
</div>
</div>
<p>Here’s another loop that repeatedly updates a variable:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>length <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">'Curie'</span>, <span class="st">'Darwin'</span>, <span class="st">'Turing'</span>]</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="cf">for</span> value <span class="kw">in</span> names:</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>    length <span class="op">=</span> length <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'There are'</span>, length, <span class="st">'names in the list.'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>There are 3 names in the list.</code></pre>
</div>
<p>It’s worth tracing the execution of this little program step by step.
Since there are three names in <code>names</code>, the statement on line
4 will be executed three times. The first time around,
<code>length</code> is zero (the value assigned to it on line 1) and
<code>value</code> is <code>Curie</code>. The statement adds 1 to the
old value of <code>length</code>, producing 1, and updates
<code>length</code> to refer to that new value. The next time around,
<code>value</code> is <code>Darwin</code> and <code>length</code> is 1,
so <code>length</code> is updated to be 2. After one more update,
<code>length</code> is 3; since there is nothing left in
<code>names</code> for Python to process, the loop finishes and the
<code>print</code> function on line 5 tells us our final answer.</p>
<p>Note that a <a href="reference.html#loop-variable">loop variable</a>
is a variable that is being used to record progress in a loop. It still
exists after the loop is over, and we can re-use variables previously
defined as <a href="reference.html#loop-variable">loop variables</a> as
well:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>name <span class="op">=</span> <span class="st">'Rosalind'</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="cf">for</span> name <span class="kw">in</span> [<span class="st">'Curie'</span>, <span class="st">'Darwin'</span>, <span class="st">'Turing'</span>]:</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>    <span class="bu">print</span>(name)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'after the loop, name is'</span>, name)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Curie
Darwin
Turing
after the loop, name is Turing</code></pre>
</div>
<p>Note also that finding the length of an object is such a common
operation that Python actually has a built-in function to do it called
<a href="https://docs.python.org/3/library/functions.html#len" class="external-link"><code>len</code></a>:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>([<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">4</span></span></code></pre>
</div>
<p><code>len</code> is much faster than any function we could write
ourselves, and much easier to read than a two-line loop; it will also
give us the length of many other data types we haven’t seen yet, so we
should always use it when we can.</p>
<div id="from-1-to-n" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="from-1-to-n" class="callout-inner">
<h3 class="callout-title">From 1 to N</h3>
<div class="callout-content">
<p>Python has a built-in function called <code>range</code> that
generates a sequence of numbers <code>range</code> can accept 1, 2, or 3
parameters.</p>
<ul>
<li>If one parameter is given, <code>range</code> generates a sequence
of that length, starting at zero and incrementing by 1. For example,
<code>range(3)</code> produces the numbers <code>0, 1, 2</code>.</li>
<li>If two parameters are given, <code>range</code> starts at the first
and ends just before the second, incrementing by one. For example,
<code>range(2, 5)</code> produces <code>2, 3, 4</code>.</li>
<li>If <code>range</code> is given 3 parameters, it starts at the first
one, ends just before the second one, and increments by the third one.
For example, <code>range(3, 10, 2)</code> produces
<code>3, 5, 7, 9</code>.</li>
</ul>
<p>Using <code>range</code>, write a loop that uses <code>range</code>
to print the first 3 natural numbers:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">3</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">4</span>):</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>   <span class="bu">print</span>(number)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="understanding-the-loops" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="understanding-the-loops" class="callout-inner">
<h3 class="callout-title">Understanding the loops</h3>
<div class="callout-content">
<p>Given the following loop:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>word <span class="op">=</span> <span class="st">'oxygen'</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="cf">for</span> letter <span class="kw">in</span> word:</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>    <span class="bu">print</span>(letter)</span></code></pre>
</div>
<p>How many times is the body of the loop executed?</p>
<ul>
<li>3 times</li>
<li>4 times</li>
<li>5 times</li>
<li>6 times</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>The body of the loop is executed 6 times.</p>
</div>
</div>
</div>
</div>
<div id="computing-powers-with-loops" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="computing-powers-with-loops" class="callout-inner">
<h3 class="callout-title">Computing Powers With Loops</h3>
<div class="callout-content">
<p>Exponentiation is built into Python:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">5</span> <span class="op">**</span> <span class="dv">3</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">125</span></span></code></pre>
</div>
<p>Write a loop that calculates the same result as <code>5 ** 3</code>
using multiplication (and without exponentiation).</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>result <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">3</span>):</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>    result <span class="op">=</span> result <span class="op">*</span> <span class="dv">5</span></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="bu">print</span>(result)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="summing-a-list" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="summing-a-list" class="callout-inner">
<h3 class="callout-title">Summing a List</h3>
<div class="callout-content">
<p>Write a loop that calculates the sum of elements in a list by adding
each element and printing the final value, so
<code>[124, 402, 36]</code> prints 562</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">124</span>, <span class="dv">402</span>, <span class="dv">36</span>]</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>summed <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> numbers:</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>    summed <span class="op">=</span> summed <span class="op">+</span> num</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="bu">print</span>(summed)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="computing-the-value-of-a-polynomial" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="computing-the-value-of-a-polynomial" class="callout-inner">
<h3 class="callout-title">Computing the Value of a Polynomial</h3>
<div class="callout-content">
<p>The built-in function <code>enumerate</code> takes a sequence (e.g.,
a <a href="04-lists.html">list</a>) and generates a new sequence of the
same length. Each element of the new sequence is a pair composed of the
index (0, 1, 2,…) and the value from the original sequence:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="cf">for</span> idx, val <span class="kw">in</span> <span class="bu">enumerate</span>(a_list):</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>    <span class="co"># Do something using idx and val</span></span></code></pre>
</div>
<p>The code above loops through <code>a_list</code>, assigning the index
to <code>idx</code> and the value to <code>val</code>.</p>
<p>Suppose you have encoded a polynomial as a list of coefficients in
the following way: the first element is the constant term, the second
element is the coefficient of the linear term, the third is the
coefficient of the quadratic term, etc.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>coefs <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>]</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>y <span class="op">=</span> coefs[<span class="dv">0</span>] <span class="op">*</span> x<span class="op">**</span><span class="dv">0</span> <span class="op">+</span> coefs[<span class="dv">1</span>] <span class="op">*</span> x<span class="op">**</span><span class="dv">1</span> <span class="op">+</span> coefs[<span class="dv">2</span>] <span class="op">*</span> x<span class="op">**</span><span class="dv">2</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="bu">print</span>(y)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">97</span></span></code></pre>
</div>
<p>Write a loop using <code>enumerate(coefs)</code> which computes the
value <code>y</code> of any polynomial, given <code>x</code> and
<code>coefs</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="cf">for</span> idx, coef <span class="kw">in</span> <span class="bu">enumerate</span>(coefs):</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>    y <span class="op">=</span> y <span class="op">+</span> coef <span class="op">*</span> x<span class="op">**</span>idx</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="making-choices-with-conditional-logic">Making Choices with Conditional Logic<a class="anchor" aria-label="anchor" href="#making-choices-with-conditional-logic"></a>
</h2>
<hr class="half-width">
<p>How can we use Python to automatically recognize different situations
we encounter with our data and take a different action for each? In this
lesson, we’ll learn how to write code that runs only when certain
conditions are true.</p>
<div class="section level3">
<h3 id="conditionals">Conditionals<a class="anchor" aria-label="anchor" href="#conditionals"></a>
</h3>
<p>We can ask Python to take different actions, depending on a
condition, with an <code>if</code> statement:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>num <span class="op">=</span> <span class="dv">37</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">100</span>:</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'greater'</span>)</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'not greater'</span>)</span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'done'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>not greater
done</code></pre>
</div>
<p>The second line of this code uses the keyword <code>if</code> to tell
Python that we want to make a choice. If the test that follows the
<code>if</code> statement is true, the body of the <code>if</code>
(i.e., the set of lines indented underneath it) is executed, and
“greater” is printed. If the test is false, the body of the
<code>else</code> is executed instead, and “not greater” is printed.
Only one or the other is ever executed before continuing on with program
execution to print “done”:</p>
<figure><img src="../fig/python-flowchart-conditional.png" alt="A flowchart diagram of the if-else construct that tests if variable num is greater than 100" class="figure mx-auto d-block"></figure><p><a href="reference.html#conditional-statement">Conditional
statements</a> don’t have to include an <code>else</code>. If there
isn’t one, Python simply does nothing if the test is false:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>num <span class="op">=</span> <span class="dv">53</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'before conditional...'</span>)</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">100</span>:</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a>    <span class="bu">print</span>(num, <span class="st">'is greater than 100'</span>)</span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'...after conditional'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>before conditional...
...after conditional</code></pre>
</div>
<p>We can also chain several tests together using <code>elif</code>,
which is short for “else if”. The following Python code uses
<code>elif</code> to print the sign of a number.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>num <span class="op">=</span> <span class="op">-</span><span class="dv">3</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a><span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>    <span class="bu">print</span>(num, <span class="st">'is positive'</span>)</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a><span class="cf">elif</span> num <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a>    <span class="bu">print</span>(num, <span class="st">'is zero'</span>)</span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a>    <span class="bu">print</span>(num, <span class="st">'is negative'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-3 is negative</code></pre>
</div>
<p>Note that to test for equality we use a double equals sign
<code>==</code> rather than a single equals sign <code>=</code> which is
used to assign values.</p>
<div id="comparing-in-python" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comparing-in-python" class="callout-inner">
<h3 class="callout-title">Comparing in Python</h3>
<div class="callout-content">
<p>Along with the <code>&gt;</code> and <code>==</code> operators we
have already used for comparing values in our conditionals, there are a
few more options to know about:</p>
<ul>
<li>
<code>&gt;</code>: greater than</li>
<li>
<code>&lt;</code>: less than</li>
<li>
<code>==</code>: equal to</li>
<li>
<code>!=</code>: does not equal</li>
<li>
<code>&gt;=</code>: greater than or equal to</li>
<li>
<code>&lt;=</code>: less than or equal to</li>
</ul>
</div>
</div>
</div>
<p>We can also combine tests using <code>and</code> and <code>or</code>.
<code>and</code> is only true if both parts are true:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="cf">if</span> (<span class="dv">1</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="kw">and</span> (<span class="op">-</span><span class="dv">1</span> <span class="op">&gt;=</span> <span class="dv">0</span>):</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'both parts are true'</span>)</span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'at least one part is false'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>at least one part is false</code></pre>
</div>
<p>while <code>or</code> is true if at least one part is true:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="cf">if</span> (<span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>) <span class="kw">or</span> (<span class="dv">1</span> <span class="op">&gt;=</span> <span class="dv">0</span>):</span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'at least one test is true'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>at least one test is true</code></pre>
</div>
<div id="true-and-false" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="true-and-false" class="callout-inner">
<h3 class="callout-title">
<code>True</code> and <code>False</code>
</h3>
<div class="callout-content">
<p><code>True</code> and <code>False</code> are special words in Python
called <code>booleans</code>, which represent truth values. A statement
such as <code>1 &lt; 0</code> returns the value <code>False</code>,
while <code>-1 &lt; 0</code> returns the value <code>True</code>.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="checking-our-data">Checking Our Data<a class="anchor" aria-label="anchor" href="#checking-our-data"></a>
</h3>
<p>Now that we’ve seen how conditionals work, we can use them to check
for the suspicious features we saw in our inflammation data. We are
about to use functions provided by the <code>numpy</code> module again.
Therefore, if you’re working in a new Python session, make sure to load
the module with:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="im">import</span> numpy</span></code></pre>
</div>
<p>From the first couple of plots, we saw that maximum daily
inflammation exhibits a strange behavior and raises one unit a day.
Wouldn’t it be a good idea to detect such behavior and report it as
suspicious? Let’s do that! However, instead of checking every single day
of the study, let’s merely check if maximum inflammation in the
beginning (day 0) and in the middle (day 20) of the study are equal to
the corresponding day numbers.</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>max_inflammation_0 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">0</span>]</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a>max_inflammation_20 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">20</span>]</span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a><span class="cf">if</span> max_inflammation_0 <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> max_inflammation_20 <span class="op">==</span> <span class="dv">20</span>:</span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Suspicious looking maxima!'</span>)</span></code></pre>
</div>
<p>We also saw a different problem in the third dataset; the minima per
day were all zero (looks like a healthy person snuck into our study). We
can also check for this with an <code>elif</code> condition:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="cf">elif</span> numpy.<span class="bu">sum</span>(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>)) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Minima add up to zero!'</span>)</span></code></pre>
</div>
<p>And if neither of these conditions are true, we can use
<code>else</code> to give the all-clear:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Seems OK!'</span>)</span></code></pre>
</div>
<p>Let’s test that out:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a>max_inflammation_0 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">0</span>]</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>max_inflammation_20 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">20</span>]</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a><span class="cf">if</span> max_inflammation_0 <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> max_inflammation_20 <span class="op">==</span> <span class="dv">20</span>:</span>
<span id="cb45-7"><a href="#cb45-7" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Suspicious looking maxima!'</span>)</span>
<span id="cb45-8"><a href="#cb45-8" tabindex="-1"></a><span class="cf">elif</span> numpy.<span class="bu">sum</span>(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>)) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb45-9"><a href="#cb45-9" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Minima add up to zero!'</span>)</span>
<span id="cb45-10"><a href="#cb45-10" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb45-11"><a href="#cb45-11" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Seems OK!'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Suspicious looking maxima!</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-03.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a>max_inflammation_0 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">0</span>]</span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a>max_inflammation_20 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">20</span>]</span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a><span class="cf">if</span> max_inflammation_0 <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> max_inflammation_20 <span class="op">==</span> <span class="dv">20</span>:</span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Suspicious looking maxima!'</span>)</span>
<span id="cb47-8"><a href="#cb47-8" tabindex="-1"></a><span class="cf">elif</span> numpy.<span class="bu">sum</span>(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>)) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb47-9"><a href="#cb47-9" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Minima add up to zero!'</span>)</span>
<span id="cb47-10"><a href="#cb47-10" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb47-11"><a href="#cb47-11" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Seems OK!'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Minima add up to zero!</code></pre>
</div>
<p>In this way, we have asked Python to do something different depending
on the condition of our data. Here we printed messages in all cases, but
we could also imagine not using the <code>else</code> catch-all so that
messages are only printed when something is wrong, freeing us from
having to manually examine every plot for features we’ve seen
before.</p>
<div id="how-many-paths" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="how-many-paths" class="callout-inner">
<h3 class="callout-title">How Many Paths?</h3>
<div class="callout-content">
<p>Consider this code:</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="cf">if</span> <span class="dv">4</span> <span class="op">&gt;</span> <span class="dv">5</span>:</span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'A'</span>)</span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a><span class="cf">elif</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">5</span>:</span>
<span id="cb49-4"><a href="#cb49-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'B'</span>)</span>
<span id="cb49-5"><a href="#cb49-5" tabindex="-1"></a><span class="cf">elif</span> <span class="dv">4</span> <span class="op">&lt;</span> <span class="dv">5</span>:</span>
<span id="cb49-6"><a href="#cb49-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'C'</span>)</span></code></pre>
</div>
<p>Which of the following would be printed if you were to run this code?
Why did you pick this answer?</p>
<ol style="list-style-type: decimal">
<li>A</li>
<li>B</li>
<li>C</li>
<li>B and C</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>C gets printed because the first two conditions,
<code>4 &gt; 5</code> and <code>4 == 5</code>, are not true, but
<code>4 &lt; 5</code> is true. In this case, only one of these
conditions can be true for at a time, but in other scenarios multiple
<code>elif</code> conditions could be met. In these scenarios, only the
action associated with the first true <code>elif</code> condition will
occur, starting from the top of the conditional section.</p>
<figure><img src="../fig/python-else-if.png" alt="A flowchart diagram of a conditional section with multiple elif conditions and some &gt; possible outcomes." class="figure mx-auto d-block"></figure><p>This contrasts with the case of multiple <code>if</code> statements,
where every action can occur as long as their condition is met.</p>
<figure><img src="../fig/python-multi-if.png" alt="A flowchart diagram of a conditional section with multiple if statements and some possible outcomes." class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="what-is-truth" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="what-is-truth" class="callout-inner">
<h3 class="callout-title">What Is Truth?</h3>
<div class="callout-content">
<p><code>True</code> and <code>False</code> booleans are not the only
values in Python that are true and false. In fact, <em>any</em> value
can be used in an <code>if</code> or <code>elif</code>. After reading
and running the code below, explain what the rule is for which values
are considered true and which are &gt; considered false.</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="cf">if</span> <span class="st">''</span>:</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'empty string is true'</span>)</span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a><span class="cf">if</span> <span class="st">'word'</span>:</span>
<span id="cb50-4"><a href="#cb50-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'word is true'</span>)</span>
<span id="cb50-5"><a href="#cb50-5" tabindex="-1"></a><span class="cf">if</span> []:</span>
<span id="cb50-6"><a href="#cb50-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'empty list is true'</span>)</span>
<span id="cb50-7"><a href="#cb50-7" tabindex="-1"></a><span class="cf">if</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]:</span>
<span id="cb50-8"><a href="#cb50-8" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'non-empty list is true'</span>)</span>
<span id="cb50-9"><a href="#cb50-9" tabindex="-1"></a><span class="cf">if</span> <span class="dv">0</span>:</span>
<span id="cb50-10"><a href="#cb50-10" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'zero is true'</span>)</span>
<span id="cb50-11"><a href="#cb50-11" tabindex="-1"></a><span class="cf">if</span> <span class="dv">1</span>:</span>
<span id="cb50-12"><a href="#cb50-12" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'one is true'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="thats-not-not-what-i-meant" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="thats-not-not-what-i-meant" class="callout-inner">
<h3 class="callout-title">That’s Not Not What I Meant</h3>
<div class="callout-content">
<p>Sometimes it is useful to check whether some condition is
<em>not</em> true. The Boolean operator <code>not</code> can do this
explicitly. After reading and running the code below, write some
<code>if</code> statements that use <code>not</code> to test the rule
that you formulated in the previous challenge.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="st">''</span>:</span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'empty string is not true'</span>)</span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="st">'word'</span>:</span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'word is not true'</span>)</span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="kw">not</span> <span class="va">True</span>:</span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'not not True is true'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="close-enough" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="close-enough" class="callout-inner">
<h3 class="callout-title">Close Enough</h3>
<div class="callout-content">
<p>Write some conditions that print <code>True</code> if the variable
<code>a</code> is within 10% of the variable <code>b</code> and
<code>False</code> otherwise. Compare your implementation with your
partner’s. Do you get the same answer for all possible pairs of
numbers?</p>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Hint </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>There is a <a href="https://docs.python.org/3/library/functions.html#abs" class="external-link">built-in
function <code>abs</code></a> that returns the absolute value of a
number:</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">abs</span>(<span class="op">-</span><span class="dv">12</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">12</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Solution 1 </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>b <span class="op">=</span> <span class="fl">5.1</span></span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a><span class="cf">if</span> <span class="bu">abs</span>(a <span class="op">-</span> b) <span class="op">&lt;=</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="bu">abs</span>(b):</span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'True'</span>)</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'False'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9"> Solution 2 </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" aria-labelledby="headingSolution9" data-bs-parent="#accordionSolution9">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">abs</span>(a <span class="op">-</span> b) <span class="op">&lt;=</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="bu">abs</span>(b))</span></code></pre>
</div>
<p>This works because the Booleans <code>True</code> and
<code>False</code> have string representations which can be printed.</p>
</div>
</div>
</div>
</div>
<div id="in-place-operators" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="in-place-operators" class="callout-inner">
<h3 class="callout-title">In-Place Operators</h3>
<div class="callout-content">
<p>Python (and most other languages in the C family) provides <a href="reference.html#in-place-operators">in-place operators</a> that
work like this:</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">1</span>  <span class="co"># original value</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a>x <span class="op">+=</span> <span class="dv">1</span> <span class="co"># add one to x, assigning result back to x</span></span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a>x <span class="op">*=</span> <span class="dv">3</span> <span class="co"># multiply x by 3</span></span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a><span class="bu">print</span>(x)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">6</span></span></code></pre>
</div>
<p>Write some code that sums the positive and negative numbers in a list
separately, using in-place operators. Do you think the result is more or
less readable than writing the same without in-place operators?</p>
</div>
</div>
</div>
<div id="accordionSolution10" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution10" aria-expanded="false" aria-controls="collapseSolution10">
  <h4 class="accordion-header" id="headingSolution10"> Show me the solution </h4>
</button>
<div id="collapseSolution10" class="accordion-collapse collapse" aria-labelledby="headingSolution10" data-bs-parent="#accordionSolution10">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>positive_sum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb58-2"><a href="#cb58-2" tabindex="-1"></a>negative_sum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb58-3"><a href="#cb58-3" tabindex="-1"></a>test_list <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">7</span>, <span class="op">-</span><span class="dv">8</span>]</span>
<span id="cb58-4"><a href="#cb58-4" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> test_list:</span>
<span id="cb58-5"><a href="#cb58-5" tabindex="-1"></a>    <span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb58-6"><a href="#cb58-6" tabindex="-1"></a>        positive_sum <span class="op">+=</span> num</span>
<span id="cb58-7"><a href="#cb58-7" tabindex="-1"></a>    <span class="cf">elif</span> num <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb58-8"><a href="#cb58-8" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb58-9"><a href="#cb58-9" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb58-10"><a href="#cb58-10" tabindex="-1"></a>        negative_sum <span class="op">+=</span> num</span>
<span id="cb58-11"><a href="#cb58-11" tabindex="-1"></a><span class="bu">print</span>(positive_sum, negative_sum)</span></code></pre>
</div>
<p>Here <code>pass</code> means “don’t do anything”. In this particular
case, it’s not actually needed, since if <code>num == 0</code> neither
sum needs to change, but it illustrates the use of <code>elif</code> and
<code>pass</code>.</p>
</div>
</div>
</div>
</div>
<div id="sorting-a-list-into-buckets" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="sorting-a-list-into-buckets" class="callout-inner">
<h3 class="callout-title">Sorting a List Into Buckets</h3>
<div class="callout-content">
<p>In our <code>data</code> folder, large data sets are stored in files
whose names start with “inflammation-” and small data sets – in files
whose names start with “small-”. We also have some other files that we
do not care about at this point. We’d like to break all these files into
three lists called <code>large_files</code>, <code>small_files</code>,
and <code>other_files</code>, respectively.</p>
<p>Add code to the template below to do this. Note that the string
method <a href="https://docs.python.org/3/library/stdtypes.html#str.startswith" class="external-link"><code>startswith</code></a>
returns <code>True</code> if and only if the string it is called on
starts with the string passed as an argument, that is:</p>
<div class="codewrapper sourceCode" id="cb59">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="co">'String'</span>.startswith(<span class="st">'Str'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">True</span></span></code></pre>
</div>
<p>But</p>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="co">'String'</span>.startswith(<span class="st">'str'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">False</span></span></code></pre>
</div>
<p>Use the following Python code as your starting point:</p>
<div class="codewrapper sourceCode" id="cb63">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a>filenames <span class="op">=</span> [<span class="st">'inflammation-01.csv'</span>,</span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a>         <span class="st">'myscript.py'</span>,</span>
<span id="cb63-3"><a href="#cb63-3" tabindex="-1"></a>         <span class="st">'inflammation-02.csv'</span>,</span>
<span id="cb63-4"><a href="#cb63-4" tabindex="-1"></a>         <span class="st">'small-01.csv'</span>,</span>
<span id="cb63-5"><a href="#cb63-5" tabindex="-1"></a>         <span class="st">'small-02.csv'</span>]</span>
<span id="cb63-6"><a href="#cb63-6" tabindex="-1"></a>large_files <span class="op">=</span> []</span>
<span id="cb63-7"><a href="#cb63-7" tabindex="-1"></a>small_files <span class="op">=</span> []</span>
<span id="cb63-8"><a href="#cb63-8" tabindex="-1"></a>other_files <span class="op">=</span> []</span></code></pre>
</div>
<p>Your solution should:</p>
<ol style="list-style-type: decimal">
<li>loop over the names of the files</li>
<li>figure out which group each filename belongs in</li>
<li>append the filename to that list</li>
</ol>
<p>In the end the three lists should be:</p>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a>large_files <span class="op">=</span> [<span class="st">'inflammation-01.csv'</span>, <span class="st">'inflammation-02.csv'</span>]</span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a>small_files <span class="op">=</span> [<span class="st">'small-01.csv'</span>, <span class="st">'small-02.csv'</span>]</span>
<span id="cb64-3"><a href="#cb64-3" tabindex="-1"></a>other_files <span class="op">=</span> [<span class="st">'myscript.py'</span>]</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution11" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution11" aria-expanded="false" aria-controls="collapseSolution11">
  <h4 class="accordion-header" id="headingSolution11"> Show me the solution </h4>
</button>
<div id="collapseSolution11" class="accordion-collapse collapse" aria-labelledby="headingSolution11" data-bs-parent="#accordionSolution11">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb65">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a>    <span class="cf">if</span> filename.startswith(<span class="st">'inflammation-'</span>):</span>
<span id="cb65-3"><a href="#cb65-3" tabindex="-1"></a>        large_files.append(filename)</span>
<span id="cb65-4"><a href="#cb65-4" tabindex="-1"></a>    <span class="cf">elif</span> filename.startswith(<span class="st">'small-'</span>):</span>
<span id="cb65-5"><a href="#cb65-5" tabindex="-1"></a>        small_files.append(filename)</span>
<span id="cb65-6"><a href="#cb65-6" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb65-7"><a href="#cb65-7" tabindex="-1"></a>        other_files.append(filename)</span>
<span id="cb65-8"><a href="#cb65-8" tabindex="-1"></a></span>
<span id="cb65-9"><a href="#cb65-9" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'large_files:'</span>, large_files)</span>
<span id="cb65-10"><a href="#cb65-10" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'small_files:'</span>, small_files)</span>
<span id="cb65-11"><a href="#cb65-11" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'other_files:'</span>, other_files)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution12" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution12" aria-expanded="false" aria-controls="collapseSolution12">
  <h4 class="accordion-header" id="headingSolution12"> Counting Vowels </h4>
</button>
<div id="collapseSolution12" class="accordion-collapse collapse" aria-labelledby="headingSolution12" data-bs-parent="#accordionSolution12">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Write a loop that counts the number of vowels in a character
string.</li>
<li>Test it on a few individual words and full sentences.</li>
<li>Once you are done, compare your solution to your neighbor’s. Did you
make the same decisions about how to handle the letter ‘y’ (which some
people think is a vowel, and some do not)?</li>
</ol>
<div class="section level2 language-python">
<h2 id="solution-8">Solution<a class="anchor" aria-label="anchor" href="#solution-8"></a>
</h2>
<pre><code>vowels = 'aeiouAEIOU'
sentence = 'Mary had a little lamb.'
count = 0
for char in sentence:
   if char in vowels:
       count += 1

print('The number of vowels in this string is ' + str(count))</code></pre>
<p>{.challenge}</p>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Use <code>for variable in sequence</code> to process the elements of
a sequence one at a time.</li>
<li>The body of a <code>for</code> loop must be indented.</li>
<li>Use <code>len(thing)</code> to determine the length of something
that contains other values.</li>
<li>Use <code>if condition</code> to start a conditional statement,
<code>elif condition</code> to provide additional tests, and
<code>else</code> to provide a default.</li>
<li>The bodies of the branches of conditional statements must be
indented.</li>
<li>Use <code>==</code> to test for equality.</li>
<li>
<code>X and Y</code> is only true if both <code>X</code> and
<code>Y</code> are true.</li>
<li>
<code>X or Y</code> is true if either <code>X</code> or
<code>Y</code>, or both, are true.</li>
<li>Zero, the empty string, and the empty list are considered false; all
other numbers, strings, and lists are considered true.</li>
<li>
<code>True</code> and <code>False</code> represent truth
values.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-07-apis"><p>Content from <a href="07-apis.html">Fetching data from APIs</a></p>
<hr>
<p>Last updated on 2024-12-11 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/07-apis.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 41 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How to get data using a public API ?</li>
<li>How to transform a JSON output to a panda dataframe ?</li>
<li>Why the API documentation is essential to succeed in getting the
expected data ?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Learn how to fetch data from an API using Python and load it into a
Pandas DataFrame for analysis.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h3>
<ul>
<li>Basic understanding of Python (variables, functions, and
loops).</li>
<li>Python installed on your computer.</li>
<li>Install the following libraries: <code>requests</code> and
<code>pandas</code>:</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">pip</span> install requests pandas</span></code></pre>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="steps">Steps<a class="anchor" aria-label="anchor" href="#steps"></a>
</h3>
<div class="section level4">
<h4 id="import-required-libraries">1. Import Required Libraries<a class="anchor" aria-label="anchor" href="#import-required-libraries"></a>
</h4>
<p>To get started, import the necessary libraries:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="understand-the-api-endpoint">2. Understand the API Endpoint<a class="anchor" aria-label="anchor" href="#understand-the-api-endpoint"></a>
</h4>
<p>For this exercise, we will use the World Development Indicators (WDI)
API from the World Bank. This API provides economic and development data
for countries. An example endpoint is:</p>
<pre><code>http://api.worldbank.org/v2/country/all/indicator/NY.GDP.MKTP.CD?format=json&amp;date=2020:2021</code></pre>
<p>This URL fetches GDP data (indicator <code>NY.GDP.MKTP.CD</code>) for
all countries for the years 2020 and 2021.</p>
</div>
<div class="section level4">
<h4 id="make-an-api-request">3. Make an API Request<a class="anchor" aria-label="anchor" href="#make-an-api-request"></a>
</h4>
<p>Use the <code>requests</code> library to fetch data from the API.
Example:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"http://api.worldbank.org/v2/country/all/indicator/NY.GDP.MKTP.CD?format=json&amp;date=2020:2021"</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>data <span class="op">=</span> response.json()</span></code></pre>
</div>
<ul>
<li>
<code>response.json()</code> converts the API response into a Python
dictionary or list.</li>
</ul>
</div>
<div class="section level4">
<h4 id="extract-relevant-data">4. Extract Relevant Data<a class="anchor" aria-label="anchor" href="#extract-relevant-data"></a>
</h4>
<p>Examine the JSON response structure. For example, the WDI API returns
a list where the second element contains the actual data. Extract the
relevant data for analysis:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Extract data from JSON response</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>data_records <span class="op">=</span> data[<span class="dv">1</span>]</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co"># Prepare a list for DataFrame creation</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>data_list <span class="op">=</span> []</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="cf">for</span> record <span class="kw">in</span> data_records:</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>    country <span class="op">=</span> record[<span class="st">"country"</span>][<span class="st">"value"</span>]</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>    year <span class="op">=</span> record[<span class="st">"date"</span>]</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>    gdp_value <span class="op">=</span> record[<span class="st">"value"</span>]</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>    data_list.append({</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>        <span class="st">"Country"</span>: country,</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>        <span class="st">"Year"</span>: <span class="bu">int</span>(year),</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>        <span class="st">"GDP"</span>: gdp_value</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>    })</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="convert-to-dataframe">5. Convert to DataFrame<a class="anchor" aria-label="anchor" href="#convert-to-dataframe"></a>
</h4>
<p>Use the extracted data to create a Pandas DataFrame:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data_list)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="bu">print</span>(df.head())</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="save-or-analyze-the-data">6. Save or Analyze the Data<a class="anchor" aria-label="anchor" href="#save-or-analyze-the-data"></a>
</h4>
<p>Save the DataFrame as a CSV file for later use:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>df.to_csv(<span class="st">"wdi_gdp_data.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<p>Or analyze the data directly using Pandas functions like:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="bu">print</span>(df.describe())</span></code></pre>
</div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="complete-example-code">Complete Example Code<a class="anchor" aria-label="anchor" href="#complete-example-code"></a>
</h3>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co"># API Request</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"http://api.worldbank.org/v2/country/all/indicator/NY.GDP.MKTP.CD?format=json&amp;date=2020:2021"</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>data <span class="op">=</span> response.json()</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="co"># Extract Data</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>data_records <span class="op">=</span> data[<span class="dv">1</span>]</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>data_list <span class="op">=</span> []</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="cf">for</span> record <span class="kw">in</span> data_records:</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>    country <span class="op">=</span> record[<span class="st">"country"</span>][<span class="st">"value"</span>]</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>    year <span class="op">=</span> record[<span class="st">"date"</span>]</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>    gdp_value <span class="op">=</span> record[<span class="st">"value"</span>]</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>    data_list.append({</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>        <span class="st">"Country"</span>: country,</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>        <span class="st">"Year"</span>: <span class="bu">int</span>(year),</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a>        <span class="st">"GDP"</span>: gdp_value</span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a>    })</span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="co"># Create DataFrame</span></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data_list)</span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a></span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="co"># Save DataFrame</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a>df.to_csv(<span class="st">"wdi_gdp_data.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data saved to wdi_gdp_data.csv"</span>)</span></code></pre>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="key-takeaways">Key Takeaways<a class="anchor" aria-label="anchor" href="#key-takeaways"></a>
</h3>
<ul>
<li>Use <code>requests</code> to fetch API data.</li>
<li>Convert JSON responses to a Pandas DataFrame.</li>
<li>Save or analyze the data using Pandas.</li>
</ul>
<p>Practice with the OECD Data Explorer to build confidence!</p>
<p>Practice with other APIs to build confidence!</p>
<ul>
<li>Let’s try with the OECD Data Explorer API</li>
</ul>
</div></section><section id="aio-08-functions"><p>Content from <a href="08-functions.html">Creating Functions</a></p>
<hr>
<p>Last updated on 2024-12-10 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/08-functions.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 40 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are functions, and how can I use them in Python?</li>
<li>How can I define new functions?</li>
<li>What’s the difference between defining and calling a function?</li>
<li>What happens when I call a function?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>identify what a function is</li>
<li>create new functions</li>
<li>Set default values for function parameters.</li>
<li>Explain why we should divide programs into small, single-purpose
functions.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>At this point, we’ve seen that code can have Python make decisions
about what it sees in our data. What if we want to convert some of our
data, like taking a temperature in Fahrenheit and converting it to
Celsius. We could write something like this for converting a single
number</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>fahrenheit_val <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>celsius_val <span class="op">=</span> ((fahrenheit_val <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span></code></pre>
</div>
<p>and for a second number we could just copy the line and rename the
variables</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>fahrenheit_val <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>celsius_val <span class="op">=</span> ((fahrenheit_val <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>fahrenheit_val2 <span class="op">=</span> <span class="dv">43</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>celsius_val2 <span class="op">=</span> ((fahrenheit_val2 <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span></code></pre>
</div>
<p>But we would be in trouble as soon as we had to do this more than a
couple times. Cutting and pasting it is going to make our code get very
long and very repetitive, very quickly. We’d like a way to package our
code so that it is easier to reuse, a shorthand way of re-executing
longer pieces of code. In Python we can use ‘functions’. Let’s start by
defining a function <code>fahr_to_celsius</code> that converts
temperatures from Fahrenheit to Celsius:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> explicit_fahr_to_celsius(temp):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="co"># Assign the converted value to a variable</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>    converted <span class="op">=</span> ((temp <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    <span class="co"># Return the value of the new variable</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>    <span class="cf">return</span> converted</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    </span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="kw">def</span> fahr_to_celsius(temp):</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>    <span class="co"># Return converted value more efficiently using the return</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>    <span class="co"># function without creating a new variable. This code does</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>    <span class="co"># the same thing as the previous function but it is more explicit</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>    <span class="co"># in explaining how the return command works.</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    <span class="cf">return</span> ((temp <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span></code></pre>
</div>
<figure><img src="../fig/python-function.svg" alt="Labeled parts of a Python function definition" class="figure mx-auto d-block"></figure><p>The function definition opens with the keyword <code>def</code>
followed by the name of the function (<code>fahr_to_celsius</code>) and
a parenthesized list of parameter names (<code>temp</code>). The <a href="reference.html#body">body</a> of the function — the statements
that are executed when it runs — is indented below the definition line.
The body concludes with a <code>return</code> keyword followed by the
return value.</p>
<p>When we call the function, the values we pass to it are assigned to
those variables so that we can use them inside the function. Inside the
function, we use a <a href="reference.html#return-statement">return
statement</a> to send a result back to whoever asked for it.</p>
<p>Let’s try running our function.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>fahr_to_celsius(<span class="dv">32</span>)</span></code></pre>
</div>
<p>This command should call our function, using “32” as the input and
return the function value.</p>
<p>In fact, calling our own function is no different from calling any
other function:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'freezing point of water:'</span>, fahr_to_celsius(<span class="dv">32</span>), <span class="st">'C'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'boiling point of water:'</span>, fahr_to_celsius(<span class="dv">212</span>), <span class="st">'C'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>freezing point of water: 0.0 C
boiling point of water: 100.0 C</code></pre>
</div>
<p>We’ve successfully called the function that we defined, and we have
access to the value that we returned.</p>
<section><h2 class="section-heading" id="composing-functions">Composing Functions<a class="anchor" aria-label="anchor" href="#composing-functions"></a>
</h2>
<hr class="half-width">
<p>Now that we’ve seen how to turn Fahrenheit into Celsius, we can also
write the function to turn Celsius into Kelvin:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="kw">def</span> celsius_to_kelvin(temp_c):</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>    <span class="cf">return</span> temp_c <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'freezing point of water in Kelvin:'</span>, celsius_to_kelvin(<span class="fl">0.</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>freezing point of water in Kelvin: 273.15</code></pre>
</div>
<p>What about converting Fahrenheit to Kelvin? We could write out the
formula, but we don’t need to. Instead, we can <a href="reference.html#compose">compose</a> the two functions we have
already created:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="kw">def</span> fahr_to_kelvin(temp_f):</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>    temp_c <span class="op">=</span> fahr_to_celsius(temp_f)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    temp_k <span class="op">=</span> celsius_to_kelvin(temp_c)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>    <span class="cf">return</span> temp_k</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'boiling point of water in Kelvin:'</span>, fahr_to_kelvin(<span class="fl">212.0</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>boiling point of water in Kelvin: 373.15</code></pre>
</div>
<p>This is our first taste of how larger programs are built: we define
basic operations, then combine them in ever-larger chunks to get the
effect we want. Real-life functions will usually be larger than the ones
shown here — typically half a dozen to a few dozen lines — but they
shouldn’t ever be much longer than that, or the next person who reads it
won’t be able to understand what’s going on.</p>
</section><section><h2 class="section-heading" id="variable-scope">Variable Scope<a class="anchor" aria-label="anchor" href="#variable-scope"></a>
</h2>
<hr class="half-width">
<p>In composing our temperature conversion functions, we created
variables inside of those functions, <code>temp</code>,
<code>temp_c</code>, <code>temp_f</code>, and <code>temp_k</code>. We
refer to these variables as <a href="reference.html#local-variable">local variables</a> because they no
longer exist once the function is done executing. If we try to access
their values outside of the function, we will encounter an error:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Again, temperature in Kelvin was:'</span>, temp_k)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-1-eed2471d229b&gt; in &lt;module&gt;
----&gt; 1 print('Again, temperature in Kelvin was:', temp_k)

NameError: name 'temp_k' is not defined</code></pre>
</div>
<p>If you want to reuse the temperature in Kelvin after you have
calculated it with <code>fahr_to_kelvin</code>, you can store the result
of the function call in a variable:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>temp_kelvin <span class="op">=</span> fahr_to_kelvin(<span class="fl">212.0</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'temperature in Kelvin was:'</span>, temp_kelvin)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>temperature in Kelvin was: 373.15</code></pre>
</div>
<p>The variable <code>temp_kelvin</code>, being defined outside any
function, is said to be <a href="reference.html#global-variable">global</a>.</p>
<p>Inside a function, one can read the value of such global
variables:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="kw">def</span> print_temperatures():</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">'temperature in Fahrenheit was:'</span>, temp_fahr)</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">'temperature in Kelvin was:'</span>, temp_kelvin)</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>temp_fahr <span class="op">=</span> <span class="fl">212.0</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>temp_kelvin <span class="op">=</span> fahr_to_kelvin(temp_fahr)</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>print_temperatures()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>temperature in Fahrenheit was: 212.0
temperature in Kelvin was: 373.15</code></pre>
</div>
<p>By giving our functions human-readable names, we can more easily read
and understand what is happening in the <code>for</code> loop. Even
better, if at some later date we want to use either of those pieces of
code again, we can do so in a single line.</p>
</section><section><h2 class="section-heading" id="testing-and-documenting">Testing and Documenting<a class="anchor" aria-label="anchor" href="#testing-and-documenting"></a>
</h2>
<hr class="half-width">
<p>Once we start putting things in functions so that we can re-use them,
we need to start testing that those functions are working correctly. To
see how to do this, let’s write a function to offset a dataset so that
it’s mean value shifts to a user-defined value:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value):</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span></code></pre>
</div>
<p>We could test this on our actual data, but since we don’t know what
the values ought to be, it will be hard to tell if the result was
correct. Instead, let’s use NumPy to create a matrix of 0’s and then
offset its values to have a mean value of 3:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>z <span class="op">=</span> numpy.zeros((<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="bu">print</span>(offset_mean(z, <span class="dv">3</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[ 3.  3.]
 [ 3.  3.]]</code></pre>
</div>
<p>That looks right, so let’s try <code>offset_mean</code> on our real
data:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="bu">print</span>(offset_mean(data, <span class="dv">0</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[-6.14875 -6.14875 -5.14875 ... -3.14875 -6.14875 -6.14875]
 [-6.14875 -5.14875 -4.14875 ... -5.14875 -6.14875 -5.14875]
 [-6.14875 -5.14875 -5.14875 ... -4.14875 -5.14875 -5.14875]
 ...
 [-6.14875 -5.14875 -5.14875 ... -5.14875 -5.14875 -5.14875]
 [-6.14875 -6.14875 -6.14875 ... -6.14875 -4.14875 -6.14875]
 [-6.14875 -6.14875 -5.14875 ... -5.14875 -5.14875 -6.14875]]</code></pre>
</div>
<p>It’s hard to tell from the default output whether the result is
correct, but there are a few tests that we can run to reassure us:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'original min, mean, and max are:'</span>, numpy.amin(data), numpy.mean(data), numpy.amax(data))</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>offset_data <span class="op">=</span> offset_mean(data, <span class="dv">0</span>)</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'min, mean, and max of offset data are:'</span>,</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>      numpy.amin(offset_data),</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>      numpy.mean(offset_data),</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>      numpy.amax(offset_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>original min, mean, and max are: 0.0 6.14875 20.0
min, mean, and and max of offset data are: -6.14875 2.84217094304e-16 13.85125</code></pre>
</div>
<p>That seems almost right: the original mean was about 6.1, so the
lower bound from zero is now about -6.1. The mean of the offset data
isn’t quite zero — we’ll explore why not in the challenges — but it’s
pretty close. We can even go further and check that the standard
deviation hasn’t changed:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'std dev before and after:'</span>, numpy.std(data), numpy.std(offset_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>std dev before and after: 4.61383319712 4.61383319712</code></pre>
</div>
<p>Those values look the same, but we probably wouldn’t notice if they
were different in the sixth decimal place. Let’s do this instead:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'difference in standard deviations before and after:'</span>,</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>      numpy.std(data) <span class="op">-</span> numpy.std(offset_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>difference in standard deviations before and after: -3.5527136788e-15</code></pre>
</div>
<p>Again, the difference is very small. It’s still possible that our
function is wrong, but it seems unlikely enough that we should probably
get back to doing our analysis.</p>
</section><section><h2 class="section-heading" id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<hr class="half-width">
<p>We have one more task first, though: we should write some <a href="reference.html#documentation">documentation</a> for our function
to remind ourselves later what it’s for and how to use it.</p>
<p>The usual way to put documentation in software is to add <a href="reference.html#comment">comments</a> like this:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="co"># offset_mean(data, target_mean_value):</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="co"># return a new array containing the original data with its mean offset to match the desired value.</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value):</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span></code></pre>
</div>
<p>There’s a better way, though. If the first thing in a function is a
string that isn’t assigned to a variable, that string is attached to the
function as its documentation:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value):</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>    <span class="co">"""Return a new array containing the original data</span></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="co">       with its mean offset to match the desired value."""</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span></code></pre>
</div>
<p>This is better because we can now ask Python’s built-in help system
to show us the documentation for the function:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="bu">help</span>(offset_mean)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on function offset_mean in module __main__:

offset_mean(data, target_mean_value)
    Return a new array containing the original data with its mean offset to match the desired value.</code></pre>
</div>
<p>A string like this is called a <a href="reference.html#docstring">docstring</a>. We don’t need to use
triple quotes when we write one, but if we do, we can break the string
across multiple lines:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value):</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>    <span class="co">"""Return a new array containing the original data</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="co">       with its mean offset to match the desired value.</span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="co">    Examples</span></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a><span class="co">    &gt;&gt;&gt; offset_mean([1, 2, 3], 0)</span></span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a><span class="co">    array([-1.,  0.,  1.])</span></span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb32-10"><a href="#cb32-10" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span>
<span id="cb32-11"><a href="#cb32-11" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" tabindex="-1"></a><span class="bu">help</span>(offset_mean)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on function offset_mean in module __main__:

offset_mean(data, target_mean_value)
    Return a new array containing the original data
       with its mean offset to match the desired value.

    Examples
    --------
    &gt;&gt;&gt; offset_mean([1, 2, 3], 0)
    array([-1.,  0.,  1.])</code></pre>
</div>
</section><section><h2 class="section-heading" id="defining-defaults">Defining Defaults<a class="anchor" aria-label="anchor" href="#defining-defaults"></a>
</h2>
<hr class="half-width">
<p>We have passed parameters to functions in two ways: directly, as in
<code>type(data)</code>, and by name, as in
<code>numpy.loadtxt(fname='something.csv', delimiter=',')</code>. In
fact, we can pass the filename to <code>loadtxt</code> without the
<code>fname=</code>:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>numpy.loadtxt(<span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([[ 0.,  0.,  1., ...,  3.,  0.,  0.],
       [ 0.,  1.,  2., ...,  1.,  0.,  1.],
       [ 0.,  1.,  1., ...,  2.,  1.,  1.],
       ...,
       [ 0.,  1.,  1., ...,  1.,  1.,  1.],
       [ 0.,  0.,  0., ...,  0.,  2.,  0.],
       [ 0.,  0.,  1., ...,  1.,  1.,  0.]])</code></pre>
</div>
<p>but we still need to say <code>delimiter=</code>:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>numpy.loadtxt(<span class="st">'inflammation-01.csv'</span>, <span class="st">','</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/Users/username/anaconda3/lib/python3.6/site-packages/numpy/lib/npyio.py", line 1041, in loa
dtxt
    dtype = np.dtype(dtype)
  File "/Users/username/anaconda3/lib/python3.6/site-packages/numpy/core/_internal.py", line 199, in
_commastring
    newitem = (dtype, eval(repeats))
  File "&lt;string&gt;", line 1
    ,
    ^
SyntaxError: unexpected EOF while parsing</code></pre>
</div>
<p>To understand what’s going on, and make our own functions easier to
use, let’s re-define our <code>offset_mean</code> function like
this:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value<span class="op">=</span><span class="fl">0.0</span>):</span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a>    <span class="co">"""Return a new array containing the original data</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="co">       with its mean offset to match the desired value, (0 by default).</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a><span class="co">    Examples</span></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a><span class="co">    &gt;&gt;&gt; offset_mean([1, 2, 3])</span></span>
<span id="cb38-8"><a href="#cb38-8" tabindex="-1"></a><span class="co">    array([-1.,  0.,  1.])</span></span>
<span id="cb38-9"><a href="#cb38-9" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb38-10"><a href="#cb38-10" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span></code></pre>
</div>
<p>The key change is that the second parameter is now written
<code>target_mean_value=0.0</code> instead of just
<code>target_mean_value</code>. If we call the function with two
arguments, it works as it did before:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>test_data <span class="op">=</span> numpy.zeros((<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a><span class="bu">print</span>(offset_mean(test_data, <span class="dv">3</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[ 3.  3.]
 [ 3.  3.]]</code></pre>
</div>
<p>But we can also now call it with just one parameter, in which case
<code>target_mean_value</code> is automatically assigned the <a href="reference.html#default-value">default value</a> of 0.0:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>more_data <span class="op">=</span> <span class="dv">5</span> <span class="op">+</span> numpy.zeros((<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'data before mean offset:'</span>)</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="bu">print</span>(more_data)</span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'offset data:'</span>)</span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a><span class="bu">print</span>(offset_mean(more_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>data before mean offset:
[[ 5.  5.]
 [ 5.  5.]]
offset data:
[[ 0.  0.]
 [ 0.  0.]]</code></pre>
</div>
<p>This is handy: if we usually want a function to work one way, but
occasionally need it to do something else, we can allow people to pass a
parameter when they need to but provide a default to make the normal
case easier. The example below shows how Python matches values to
parameters:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="kw">def</span> display(a<span class="op">=</span><span class="dv">1</span>, b<span class="op">=</span><span class="dv">2</span>, c<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'a:'</span>, a, <span class="st">'b:'</span>, b, <span class="st">'c:'</span>, c)</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'no parameters:'</span>)</span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a>display()</span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'one parameter:'</span>)</span>
<span id="cb43-7"><a href="#cb43-7" tabindex="-1"></a>display(<span class="dv">55</span>)</span>
<span id="cb43-8"><a href="#cb43-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'two parameters:'</span>)</span>
<span id="cb43-9"><a href="#cb43-9" tabindex="-1"></a>display(<span class="dv">55</span>, <span class="dv">66</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>no parameters:
a: 1 b: 2 c: 3
one parameter:
a: 55 b: 2 c: 3
two parameters:
a: 55 b: 66 c: 3</code></pre>
</div>
<p>As this example shows, parameters are matched up from left to right,
and any that haven’t been given a value explicitly get their default
value. We can override this behavior by naming the value as we pass it
in:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'only setting the value of c'</span>)</span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a>display(c<span class="op">=</span><span class="dv">77</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>only setting the value of c
a: 1 b: 2 c: 77</code></pre>
</div>
<p>With that in hand, let’s look at the help for
<code>numpy.loadtxt</code>:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="bu">help</span>(numpy.loadtxt)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on function loadtxt in module numpy.lib.npyio:

loadtxt(fname, dtype=&lt;class 'float'&gt;, comments='#', delimiter=None, converters=None, skiprows=0, use
cols=None, unpack=False, ndmin=0, encoding='bytes')
    Load data from a text file.

    Each row in the text file must have the same number of values.

    Parameters
    ----------
...</code></pre>
</div>
<p>There’s a lot of information here, but the most important part is the
first couple of lines:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>loadtxt(fname, dtype=&lt;class 'float'&gt;, comments='#', delimiter=None, converters=None, skiprows=0, use
cols=None, unpack=False, ndmin=0, encoding='bytes')</code></pre>
</div>
<p>This tells us that <code>loadtxt</code> has one parameter called
<code>fname</code> that doesn’t have a default value, and eight others
that do. If we call the function like this:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a>numpy.loadtxt(<span class="st">'inflammation-01.csv'</span>, <span class="st">','</span>)</span></code></pre>
</div>
<p>then the filename is assigned to <code>fname</code> (which is what we
want), but the delimiter string <code>','</code> is assigned to
<code>dtype</code> rather than <code>delimiter</code>, because
<code>dtype</code> is the second parameter in the list. However
<code>','</code> isn’t a known <code>dtype</code> so our code produced
an error message when we tried to run it. When we call
<code>loadtxt</code> we don’t have to provide <code>fname=</code> for
the filename because it’s the first item in the list, but if we want the
<code>','</code> to be assigned to the variable <code>delimiter</code>,
we <em>do</em> have to provide <code>delimiter=</code> for the second
parameter since <code>delimiter</code> is not the second parameter in
the list.</p>
</section><section><h2 class="section-heading" id="readable-functions">Readable functions<a class="anchor" aria-label="anchor" href="#readable-functions"></a>
</h2>
<hr class="half-width">
<p>Consider these two functions:</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="kw">def</span> s(p):</span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a>    a <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> p:</span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a>        a <span class="op">+=</span> v</span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a>    m <span class="op">=</span> a <span class="op">/</span> <span class="bu">len</span>(p)</span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a>    d <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-7"><a href="#cb51-7" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> p:</span>
<span id="cb51-8"><a href="#cb51-8" tabindex="-1"></a>        d <span class="op">+=</span> (v <span class="op">-</span> m) <span class="op">*</span> (v <span class="op">-</span> m)</span>
<span id="cb51-9"><a href="#cb51-9" tabindex="-1"></a>    <span class="cf">return</span> numpy.sqrt(d <span class="op">/</span> (<span class="bu">len</span>(p) <span class="op">-</span> <span class="dv">1</span>))</span>
<span id="cb51-10"><a href="#cb51-10" tabindex="-1"></a></span>
<span id="cb51-11"><a href="#cb51-11" tabindex="-1"></a><span class="kw">def</span> std_dev(sample):</span>
<span id="cb51-12"><a href="#cb51-12" tabindex="-1"></a>    sample_sum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-13"><a href="#cb51-13" tabindex="-1"></a>    <span class="cf">for</span> value <span class="kw">in</span> sample:</span>
<span id="cb51-14"><a href="#cb51-14" tabindex="-1"></a>        sample_sum <span class="op">+=</span> value</span>
<span id="cb51-15"><a href="#cb51-15" tabindex="-1"></a></span>
<span id="cb51-16"><a href="#cb51-16" tabindex="-1"></a>    sample_mean <span class="op">=</span> sample_sum <span class="op">/</span> <span class="bu">len</span>(sample)</span>
<span id="cb51-17"><a href="#cb51-17" tabindex="-1"></a></span>
<span id="cb51-18"><a href="#cb51-18" tabindex="-1"></a>    sum_squared_devs <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-19"><a href="#cb51-19" tabindex="-1"></a>    <span class="cf">for</span> value <span class="kw">in</span> sample:</span>
<span id="cb51-20"><a href="#cb51-20" tabindex="-1"></a>        sum_squared_devs <span class="op">+=</span> (value <span class="op">-</span> sample_mean) <span class="op">*</span> (value <span class="op">-</span> sample_mean)</span>
<span id="cb51-21"><a href="#cb51-21" tabindex="-1"></a></span>
<span id="cb51-22"><a href="#cb51-22" tabindex="-1"></a>    <span class="cf">return</span> numpy.sqrt(sum_squared_devs <span class="op">/</span> (<span class="bu">len</span>(sample) <span class="op">-</span> <span class="dv">1</span>))</span></code></pre>
</div>
<p>The functions <code>s</code> and <code>std_dev</code> are
computationally equivalent (they both calculate the sample standard
deviation), but to a human reader, they look very different. You
probably found <code>std_dev</code> much easier to read and understand
than <code>s</code>.</p>
<p>As this example illustrates, both documentation and a programmer’s
<em>coding style</em> combine to determine how easy it is for others to
read and understand the programmer’s code. Choosing meaningful variable
names and using blank spaces to break the code into logical “chunks” are
helpful techniques for producing <em>readable code</em>. This is useful
not only for sharing code with others, but also for the original
programmer. If you need to revisit code that you wrote months ago and
haven’t thought about since then, you will appreciate the value of
readable code!</p>
<div id="combining-strings" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="combining-strings" class="callout-inner">
<h3 class="callout-title">Combining Strings</h3>
<div class="callout-content">
<p>“Adding” two strings produces their concatenation:
<code>'a' + 'b'</code> is <code>'ab'</code>. Write a function called
<code>fence</code> that takes two parameters called
<code>original</code> and <code>wrapper</code> and returns a new string
that has the wrapper character at the beginning and end of the original.
A call to your function should look like this:</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="bu">print</span>(fence(<span class="st">'name'</span>, <span class="st">'*'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>*name*</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="kw">def</span> fence(original, wrapper):</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>    <span class="cf">return</span> wrapper <span class="op">+</span> original <span class="op">+</span> wrapper</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="return-versus-print" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="return-versus-print" class="callout-inner">
<h3 class="callout-title">Return versus print</h3>
<div class="callout-content">
<p>Note that <code>return</code> and <code>print</code> are not
interchangeable. <code>print</code> is a Python function that
<em>prints</em> data to the screen. It enables us, <em>users</em>, see
the data. <code>return</code> statement, on the other hand, makes data
visible to the program. Let’s have a look at the following function:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a>    <span class="bu">print</span>(a <span class="op">+</span> b)</span></code></pre>
</div>
<p><strong>Question</strong>: What will we see if we execute the
following commands?</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a>A <span class="op">=</span> add(<span class="dv">7</span>, <span class="dv">3</span>)</span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="bu">print</span>(A)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Python will first execute the function <code>add</code> with
<code>a = 7</code> and <code>b = 3</code>, and, therefore, print
<code>10</code>. However, because function <code>add</code> does not
have a line that starts with <code>return</code> (no <code>return</code>
“statement”), it will, by default, return nothing which, in Python
world, is called <code>None</code>. Therefore, <code>A</code> will be
assigned to <code>None</code> and the last line (<code>print(A)</code>)
will print <code>None</code>. As a result, we will see:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">10</span></span>
<span><span class="va">None</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="selecting-characters-from-strings" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="selecting-characters-from-strings" class="callout-inner">
<h3 class="callout-title">Selecting Characters From Strings</h3>
<div class="callout-content">
<p>If the variable <code>s</code> refers to a string, then
<code>s[0]</code> is the string’s first character and <code>s[-1]</code>
is its last. Write a function called <code>outer</code> that returns a
string made up of just the first and last characters of its input. A
call to your function should look like this:</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="bu">print</span>(outer(<span class="st">'helium'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">hm</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="kw">def</span> outer(input_string):</span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a>    <span class="cf">return</span> input_string[<span class="dv">0</span>] <span class="op">+</span> input_string[<span class="op">-</span><span class="dv">1</span>]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="rescaling-an-array" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="rescaling-an-array" class="callout-inner">
<h3 class="callout-title">Rescaling an Array</h3>
<div class="callout-content">
<p>Write a function <code>rescale</code> that takes an array as input
and returns a corresponding array of values scaled to lie in the range
0.0 to 1.0. (Hint: If <code>L</code> and <code>H</code> are the lowest
and highest values in the original array, then the replacement for a
value <code>v</code> should be <code>(v-L) / (H-L)</code>.)</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="kw">def</span> rescale(input_array):</span>
<span id="cb61-2"><a href="#cb61-2" tabindex="-1"></a>    L <span class="op">=</span> numpy.amin(input_array)</span>
<span id="cb61-3"><a href="#cb61-3" tabindex="-1"></a>    H <span class="op">=</span> numpy.amax(input_array)</span>
<span id="cb61-4"><a href="#cb61-4" tabindex="-1"></a>    output_array <span class="op">=</span> (input_array <span class="op">-</span> L) <span class="op">/</span> (H <span class="op">-</span> L)</span>
<span id="cb61-5"><a href="#cb61-5" tabindex="-1"></a>    <span class="cf">return</span> output_array</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="testing-and-documenting-your-function" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="testing-and-documenting-your-function" class="callout-inner">
<h3 class="callout-title">Testing and Documenting Your Function</h3>
<div class="callout-content">
<p>Run the commands <code>help(numpy.arange)</code> and
<code>help(numpy.linspace)</code> to see how to use these functions to
generate regularly-spaced values, then use those values to test your
<code>rescale</code> function. Once you’ve successfully tested your
function, add a docstring that explains what it does.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="co">"""Takes an array as input, and returns a corresponding array scaled so</span></span>
<span id="cb62-2"><a href="#cb62-2" tabindex="-1"></a><span class="co">that 0 corresponds to the minimum and 1 to the maximum value of the input array.</span></span>
<span id="cb62-3"><a href="#cb62-3" tabindex="-1"></a></span>
<span id="cb62-4"><a href="#cb62-4" tabindex="-1"></a><span class="co">Examples:</span></span>
<span id="cb62-5"><a href="#cb62-5" tabindex="-1"></a><span class="co">&gt;&gt;&gt; rescale(numpy.arange(10.0))</span></span>
<span id="cb62-6"><a href="#cb62-6" tabindex="-1"></a><span class="co">array([ 0.        ,  0.11111111,  0.22222222,  0.33333333,  0.44444444,</span></span>
<span id="cb62-7"><a href="#cb62-7" tabindex="-1"></a><span class="co">       0.55555556,  0.66666667,  0.77777778,  0.88888889,  1.        ])</span></span>
<span id="cb62-8"><a href="#cb62-8" tabindex="-1"></a><span class="co">&gt;&gt;&gt; rescale(numpy.linspace(0, 100, 5))</span></span>
<span id="cb62-9"><a href="#cb62-9" tabindex="-1"></a><span class="co">array([ 0.  ,  0.25,  0.5 ,  0.75,  1.  ])</span></span>
<span id="cb62-10"><a href="#cb62-10" tabindex="-1"></a><span class="co">"""</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="defining-defaults-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="defining-defaults-1" class="callout-inner">
<h3 class="callout-title">Defining Defaults</h3>
<div class="callout-content">
<p>Rewrite the <code>rescale</code> function so that it scales data to
lie between <code>0.0</code> and <code>1.0</code> by default, but will
allow the caller to specify lower and upper bounds if they want. Compare
your implementation to your neighbor’s: do the two functions always
behave the same way?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb63">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="kw">def</span> rescale(input_array, low_val<span class="op">=</span><span class="fl">0.0</span>, high_val<span class="op">=</span><span class="fl">1.0</span>):</span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a>    <span class="co">"""rescales input array values to lie between low_val and high_val"""</span></span>
<span id="cb63-3"><a href="#cb63-3" tabindex="-1"></a>    L <span class="op">=</span> numpy.amin(input_array)</span>
<span id="cb63-4"><a href="#cb63-4" tabindex="-1"></a>    H <span class="op">=</span> numpy.amax(input_array)</span>
<span id="cb63-5"><a href="#cb63-5" tabindex="-1"></a>    intermed_array <span class="op">=</span> (input_array <span class="op">-</span> L) <span class="op">/</span> (H <span class="op">-</span> L)</span>
<span id="cb63-6"><a href="#cb63-6" tabindex="-1"></a>    output_array <span class="op">=</span> intermed_array <span class="op">*</span> (high_val <span class="op">-</span> low_val) <span class="op">+</span> low_val</span>
<span id="cb63-7"><a href="#cb63-7" tabindex="-1"></a>    <span class="cf">return</span> output_array</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="variables-inside-and-outside-functions" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="variables-inside-and-outside-functions" class="callout-inner">
<h3 class="callout-title">Variables Inside and Outside Functions</h3>
<div class="callout-content">
<p>What does the following piece of code display when run — and why?</p>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a>f <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a>k <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb64-3"><a href="#cb64-3" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" tabindex="-1"></a><span class="kw">def</span> f2k(f):</span>
<span id="cb64-5"><a href="#cb64-5" tabindex="-1"></a>    k <span class="op">=</span> ((f <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="fl">5.0</span> <span class="op">/</span> <span class="fl">9.0</span>)) <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb64-6"><a href="#cb64-6" tabindex="-1"></a>    <span class="cf">return</span> k</span>
<span id="cb64-7"><a href="#cb64-7" tabindex="-1"></a></span>
<span id="cb64-8"><a href="#cb64-8" tabindex="-1"></a><span class="bu">print</span>(f2k(<span class="dv">8</span>))</span>
<span id="cb64-9"><a href="#cb64-9" tabindex="-1"></a><span class="bu">print</span>(f2k(<span class="dv">41</span>))</span>
<span id="cb64-10"><a href="#cb64-10" tabindex="-1"></a><span class="bu">print</span>(f2k(<span class="dv">32</span>))</span>
<span id="cb64-11"><a href="#cb64-11" tabindex="-1"></a></span>
<span id="cb64-12"><a href="#cb64-12" tabindex="-1"></a><span class="bu">print</span>(k)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">259.81666666666666</span></span>
<span><span class="fl">278.15</span></span>
<span><span class="fl">273.15</span></span>
<span><span class="fl">0</span></span></code></pre>
</div>
<p><code>k</code> is 0 because the <code>k</code> inside the function
<code>f2k</code> doesn’t know about the <code>k</code> defined outside
the function. When the <code>f2k</code> function is called, it creates a
<a href="reference.html#local-variable">local variable</a>
<code>k</code>. The function does not return any values and does not
alter <code>k</code> outside of its local copy. Therefore the original
value of <code>k</code> remains unchanged. Beware that a local
<code>k</code> is created because <code>f2k</code> internal statements
<em>affect</em> a new value to it. If <code>k</code> was only
<code>read</code>, it would simply retrieve the global <code>k</code>
value.</p>
</div>
</div>
</div>
</div>
<div id="mixing-default-and-non-default-parameters" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="mixing-default-and-non-default-parameters" class="callout-inner">
<h3 class="callout-title">Mixing Default and Non-Default Parameters</h3>
<div class="callout-content">
<p>Given the following code:</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="kw">def</span> numbers(one, two<span class="op">=</span><span class="dv">2</span>, three, four<span class="op">=</span><span class="dv">4</span>):</span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">str</span>(one) <span class="op">+</span> <span class="bu">str</span>(two) <span class="op">+</span> <span class="bu">str</span>(three) <span class="op">+</span> <span class="bu">str</span>(four)</span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a>    <span class="cf">return</span> n</span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a></span>
<span id="cb66-5"><a href="#cb66-5" tabindex="-1"></a><span class="bu">print</span>(numbers(<span class="dv">1</span>, three<span class="op">=</span><span class="dv">3</span>))</span></code></pre>
</div>
<p>what do you expect will be printed? What is actually printed? What
rule do you think Python is following?</p>
<ol style="list-style-type: decimal">
<li><code>1234</code></li>
<li><code>one2three4</code></li>
<li><code>1239</code></li>
<li><code>SyntaxError</code></li>
</ol>
<p>Given that, what does the following piece of code display when
run?</p>
<div class="codewrapper sourceCode" id="cb67">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="kw">def</span> func(a, b<span class="op">=</span><span class="dv">3</span>, c<span class="op">=</span><span class="dv">6</span>):</span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'a: '</span>, a, <span class="st">'b: '</span>, b, <span class="st">'c:'</span>, c)</span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" tabindex="-1"></a>func(<span class="op">-</span><span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>a: b: 3 c: 6</code></li>
<li><code>a: -1 b: 3 c: 6</code></li>
<li><code>a: -1 b: 2 c: 6</code></li>
<li><code>a: b: -1 c: 2</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Show me the solution </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<p>Attempting to define the <code>numbers</code> function results in
<code>4. SyntaxError</code>. The defined parameters <code>two</code> and
<code>four</code> are given default values. Because <code>one</code> and
<code>three</code> are not given default values, they are required to be
included as arguments when the function is called and must be placed
before any parameters that have default values in the function
definition.</p>
<p>The given call to <code>func</code> displays
<code>a: -1 b: 2 c: 6</code>. -1 is assigned to the first parameter
<code>a</code>, 2 is assigned to the next parameter <code>b</code>, and
<code>c</code> is not passed a value, so it uses its default value
6.</p>
</div>
</div>
</div>
</div>
<div id="readable-code" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="readable-code" class="callout-inner">
<h3 class="callout-title">Readable Code</h3>
<div class="callout-content">
<p>Revise a function you wrote for one of the previous exercises to try
to make the code more readable. Then, collaborate with one of your
neighbors to critique each other’s functions and discuss how your
function implementations could be further improved to make them more
readable.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Define a function using
<code>def function_name(parameter)</code>.</li>
<li>The body of a function must be indented.</li>
<li>Call a function using <code>function_name(value)</code>.</li>
<li>Numbers are stored as integers or floating-point numbers.</li>
<li>Variables defined within a function can only be seen and used within
the body of the function.</li>
<li>Variables created outside of any function are called global
variables.</li>
<li>Within a function, we can access global variables.</li>
<li>Variables created within a function override global variables if
their names match.</li>
<li>Use <code>help(thing)</code> to view help for something.</li>
<li>Put docstrings in functions to provide help for that function.</li>
<li>Specify default values for parameters when defining a function using
<code>name=value</code> in the parameter list.</li>
<li>Parameters can be passed by matching based on name, by position, or
by omitting them (in which case the default value is used).</li>
<li>Put code whose parameters change frequently in a function, then call
it with different parameter values to customize its behavior.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-09-errors_exceptions"><p>Content from <a href="09-errors_exceptions.html">Errors and Exceptions</a></p>
<hr>
<p>Last updated on 2024-12-10 |

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/episodes/09-errors_exceptions.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 50 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How does Python report errors?</li>
<li>How can I handle errors in Python programs?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>identify different errors and correct bugs associated with them</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Every programmer encounters errors, both those who are just
beginning, and those who have been programming for years. Encountering
errors and exceptions can be very frustrating at times, and can make
coding feel like a hopeless endeavour. However, understanding what the
different types of errors are and when you are likely to encounter them
can help a lot. Once you know <em>why</em> you get certain types of
errors, they become much easier to fix.</p>
<p>Errors in Python have a very specific form, called a <a href="reference.html#traceback">traceback</a>. Let’s examine one:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># This code has an intentional error. You can type it directly or</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># use it for reference to understand the error message below.</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="kw">def</span> favorite_ice_cream():</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    ice_creams <span class="op">=</span> [</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>        <span class="st">'chocolate'</span>,</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>        <span class="st">'vanilla'</span>,</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>        <span class="st">'strawberry'</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    ]</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    <span class="bu">print</span>(ice_creams[<span class="dv">3</span>])</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>favorite_ice_cream()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-1-70bd89baa4df&gt; in &lt;module&gt;()
      9     print(ice_creams[3])
      10
----&gt; 11 favorite_ice_cream()

&lt;ipython-input-1-70bd89baa4df&gt; in favorite_ice_cream()
      7         'strawberry'
      8     ]
----&gt; 9     print(ice_creams[3])
      10
      11 favorite_ice_cream()

IndexError: list index out of range</code></pre>
</div>
<p>This particular traceback has two levels. You can determine the
number of levels by looking for the number of arrows on the left hand
side. In this case:</p>
<ol style="list-style-type: decimal">
<li><p>The first shows code from the cell above, with an arrow pointing
to Line 11 (which is <code>favorite_ice_cream()</code>).</p></li>
<li><p>The second shows some code in the function
<code>favorite_ice_cream</code>, with an arrow pointing to Line 9 (which
is <code>print(ice_creams[3])</code>).</p></li>
</ol>
<p>The last level is the actual place where the error occurred. The
other level(s) show what function the program executed to get to the
next level down. So, in this case, the program first performed a <a href="reference.html#function-call">function call</a> to the function
<code>favorite_ice_cream</code>. Inside this function, the program
encountered an error on Line 6, when it tried to run the code
<code>print(ice_creams[3])</code>.</p>
<div id="long-tracebacks" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="long-tracebacks" class="callout-inner">
<h3 class="callout-title">Long Tracebacks</h3>
<div class="callout-content">
<p>Sometimes, you might see a traceback that is very long -- sometimes
they might even be 20 levels deep! This can make it seem like something
horrible happened, but the length of the error message does not reflect
severity, rather, it indicates that your program called many functions
before it encountered the error. Most of the time, the actual place
where the error occurred is at the bottom-most level, so you can skip
down the traceback to the bottom.</p>
</div>
</div>
</div>
<p>So what error did the program actually encounter? In the last line of
the traceback, Python helpfully tells us the category or type of error
(in this case, it is an <code>IndexError</code>) and a more detailed
error message (in this case, it says “list index out of range”).</p>
<p>If you encounter an error and don’t know what it means, it is still
important to read the traceback closely. That way, if you fix the error,
but encounter a new one, you can tell that the error changed.
Additionally, sometimes knowing <em>where</em> the error occurred is
enough to fix it, even if you don’t entirely understand the message.</p>
<p>If you do encounter an error you don’t recognize, try looking at the
<a href="https://docs.python.org/3/library/exceptions.html" class="external-link">official
documentation on errors</a>. However, note that you may not always be
able to find the error there, as it is possible to create custom errors.
In that case, hopefully the custom error message is informative enough
to help you figure out what went wrong. Libraries like pandas and numpy
have these custom errors, but the procedure to figure them out is the
same: go to the earliest line in the error, and look at the error
message for it. The documentation for these libraries will often provide
the information you need about any functions you are using. There are
also large communities of users for data libraries that can help as
well!</p>
<div id="reading-error-messages" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="reading-error-messages" class="callout-inner">
<h3 class="callout-title">Reading Error Messages</h3>
<div class="callout-content">
<p>Read the Python code and the resulting traceback below, and answer
the following questions:</p>
<ol style="list-style-type: decimal">
<li>How many levels does the traceback have?</li>
<li>What is the function name where the error occurred?</li>
<li>On which line number in this function did the error occur?</li>
<li>What is the type of error?</li>
<li>What is the error message?</li>
</ol>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># This code has an intentional error. Do not type it directly;</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># use it for reference to understand the error message below.</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="kw">def</span> print_message(day):</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    messages <span class="op">=</span> [</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>        <span class="st">'Hello, world!'</span>,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>        <span class="st">'Today is Tuesday!'</span>,</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>        <span class="st">'It is the middle of the week.'</span>,</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>        <span class="st">'Today is Donnerstag in German!'</span>,</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>        <span class="st">'Last day of the week!'</span>,</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>        <span class="st">'Hooray for the weekend!'</span>,</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>        <span class="st">'Aw, the weekend is almost over.'</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    ]</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>    <span class="bu">print</span>(messages[day])</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="kw">def</span> print_sunday_message():</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>    print_message(<span class="dv">7</span>)</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>print_sunday_message()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-7-3ad455d81842&gt; in &lt;module&gt;
     16     print_message(7)
     17
---&gt; 18 print_sunday_message()
     19

&lt;ipython-input-7-3ad455d81842&gt; in print_sunday_message()
     14
     15 def print_sunday_message():
---&gt; 16     print_message(7)
     17
     18 print_sunday_message()

&lt;ipython-input-7-3ad455d81842&gt; in print_message(day)
     11         'Aw, the weekend is almost over.'
     12     ]
---&gt; 13     print(messages[day])
     14
     15 def print_sunday_message():

IndexError: list index out of range</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>3 levels</li>
<li><code>print_message</code></li>
<li>13</li>
<li><code>IndexError</code></li>
<li>
<code>list index out of range</code> You can then infer that
<code>7</code> is not the right index to use with
<code>messages</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="better-errors-on-newer-pythons" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="better-errors-on-newer-pythons" class="callout-inner">
<h3 class="callout-title">Better errors on newer Pythons</h3>
<div class="callout-content">
<p>Newer versions of Python have improved error printouts. If you are
debugging errors, it is often helpful to use the latest Python version,
even if you support older versions of Python.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="type-errors">Type Errors<a class="anchor" aria-label="anchor" href="#type-errors"></a>
</h2>
<hr class="half-width">
<p>One of the most common types of errors in Python are called <em>type
errors</em>. These errors occur when you try to perform an operation on
an object in python that cannot support it. This happens easily when
working with large datasets where there are expected value types like
either strings or integers. When we write a function expecting integers,
we will not get an error until we encounter an operation that cannot
handle strings. For example:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="kw">def</span> our_function()</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  my_string<span class="op">=</span><span class="st">"Hello World"</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  letter<span class="op">=</span>my_string[<span class="st">"e""]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-3-6bb841ea1423&gt;", line 3
    letter=my_string["e"]
                       ^
TypeError: string indices must be integers</code></pre>
</div>
<p>We get this error because we are trying to use an index to access
part of our string, which requires an integer. Instead, we entered a
character and received a type error. This is fixed by replacing “e” with
2.</p>
<p>In the case of datasets, we often see type errors when a mathematical
operation, such as taking a mean, is performed on a column that contains
characters, either as a result of formatting or introduced through
error. As a result, correcting the error can involve simply removing the
characters from the strings using regular expressions, or if the
characters have resulted in incorrect data, removing those observations
from the dataset.</p>
</section><section><h2 class="section-heading" id="syntax-errors">Syntax Errors<a class="anchor" aria-label="anchor" href="#syntax-errors"></a>
</h2>
<hr class="half-width">
<p>When you forget a colon at the end of a line, accidentally add one
space too many when indenting under an <code>if</code> statement, or
forget a parenthesis, you will encounter a <a href="reference.html#syntax-error">syntax error</a>. This means that
Python couldn’t figure out how to read your program. This is similar to
forgetting punctuation in English: for example, this text is difficult
to read there is no punctuation there is also no capitalization why is
this hard because you have to figure out where each sentence ends you
also have to figure out where each sentence begins to some extent it
might be ambiguous if there should be a sentence break or not</p>
<p>People can typically figure out what is meant by text with no
punctuation, but people are much smarter than computers. If Python
doesn’t know how to read the program, it will give up and inform you
with an error. For example:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="kw">def</span> some_function()</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>    msg <span class="op">=</span> <span class="st">'hello, world!'</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>    <span class="bu">print</span>(msg)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>     <span class="cf">return</span> msg</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-3-6bb841ea1423&gt;", line 1
    def some_function()
                       ^
SyntaxError: invalid syntax</code></pre>
</div>
<p>Here, Python tells us that there is a <code>SyntaxError</code> on
line 1, and even puts a little arrow in the place where there is an
issue. In this case the problem is that the function definition is
missing a colon at the end.</p>
<p>Actually, the function above has <em>two</em> issues with syntax. If
we fix the problem with the colon, we see that there is <em>also</em> an
<code>IndentationError</code>, which means that the lines in the
function definition do not all have the same indentation:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="kw">def</span> some_function():</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>    msg <span class="op">=</span> <span class="st">'hello, world!'</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    <span class="bu">print</span>(msg)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>     <span class="cf">return</span> msg</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-4-ae290e7659cb&gt;", line 4
    return msg
    ^
IndentationError: unexpected indent</code></pre>
</div>
<p>Both <code>SyntaxError</code> and <code>IndentationError</code>
indicate a problem with the syntax of your program, but an
<code>IndentationError</code> is more specific: it <em>always</em> means
that there is a problem with how your code is indented.</p>
<div id="tabs-and-spaces" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tabs-and-spaces" class="callout-inner">
<h3 class="callout-title">Tabs and Spaces</h3>
<div class="callout-content">
<p>Some indentation errors are harder to spot than others. In
particular, mixing spaces and tabs can be difficult to spot because they
are both <a href="reference.html#whitespace">whitespace</a>. In the
example below, the first two lines in the body of the function
<code>some_function</code> are indented with tabs, while the third line
— with spaces. If you’re working in a Jupyter notebook, be sure to copy
and paste this example rather than trying to type it in manually because
Jupyter automatically replaces tabs with spaces.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="kw">def</span> some_function():</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>	msg <span class="op">=</span> <span class="st">'hello, world!'</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>	<span class="bu">print</span>(msg)</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>        <span class="cf">return</span> msg</span></code></pre>
</div>
<p>Visually it is impossible to spot the error. Fortunately, Python does
not allow you to mix tabs and spaces.</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-5-653b36fbcd41&gt;", line 4
    return msg
              ^
TabError: inconsistent use of tabs and spaces in indentation</code></pre>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="variable-name-errors">Variable Name Errors<a class="anchor" aria-label="anchor" href="#variable-name-errors"></a>
</h2>
<hr class="half-width">
<p>Another very common type of error is called a <code>NameError</code>,
and occurs when you try to use a variable that does not exist. For
example:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="bu">print</span>(a)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-7-9d7b17ad5387&gt; in &lt;module&gt;()
----&gt; 1 print(a)

NameError: name 'a' is not defined</code></pre>
</div>
<p>Variable name errors come with some of the most informative error
messages, which are usually of the form “name ‘the_variable_name’ is not
defined”.</p>
<p>Why does this error message occur? That’s a harder question to
answer, because it depends on what your code is supposed to do. However,
there are a few very common reasons why you might have an undefined
variable. The first is that you meant to use a <a href="reference.html#string">string</a>, but forgot to put quotes around
it:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="bu">print</span>(hello)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-8-9553ee03b645&gt; in &lt;module&gt;()
----&gt; 1 print(hello)

NameError: name 'hello' is not defined</code></pre>
</div>
<p>The second reason is that you might be trying to use a variable that
does not yet exist. In the following example, <code>count</code> should
have been defined (e.g., with <code>count = 0</code>) before the for
loop:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>    count <span class="op">=</span> count <span class="op">+</span> number</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The count is:'</span>, count)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-9-dd6a12d7ca5c&gt; in &lt;module&gt;()
      1 for number in range(10):
----&gt; 2     count = count + number
      3 print('The count is:', count)

NameError: name 'count' is not defined</code></pre>
</div>
<p>Finally, the third possibility is that you made a typo when you were
writing your code. Let’s say we fixed the error above by adding the line
<code>Count = 0</code> before the for loop. Frustratingly, this actually
does not fix the error. Remember that variables are <a href="reference.html#case-sensitive">case-sensitive</a>, so the variable
<code>count</code> is different from <code>Count</code>. We still get
the same error, because we still have not defined
<code>count</code>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>Count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>    count <span class="op">=</span> count <span class="op">+</span> number</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The count is:'</span>, count)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-10-d77d40059aea&gt; in &lt;module&gt;()
      1 Count = 0
      2 for number in range(10):
----&gt; 3     count = count + number
      4 print('The count is:', count)

NameError: name 'count' is not defined</code></pre>
</div>
</section><section><h2 class="section-heading" id="index-errors">Index Errors<a class="anchor" aria-label="anchor" href="#index-errors"></a>
</h2>
<hr class="half-width">
<p>Next up are errors having to do with containers (like lists and
strings) and the items within them. If you try to access an item in a
list or a string that does not exist, then you will get an error. This
makes sense: if you asked someone what day they would like to get
coffee, and they answered “caturday”, you might be a bit annoyed. Python
gets similarly annoyed if you try to ask it for an item that doesn’t
exist:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>letters <span class="op">=</span> [<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>]</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Letter #1 is'</span>, letters[<span class="dv">0</span>])</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Letter #2 is'</span>, letters[<span class="dv">1</span>])</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Letter #3 is'</span>, letters[<span class="dv">2</span>])</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Letter #4 is'</span>, letters[<span class="dv">3</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">Letter</span> <span class="co">#1 is a</span></span>
<span><span class="va">Letter</span> <span class="co">#2 is b</span></span>
<span><span class="va">Letter</span> <span class="co">#3 is c</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-11-d817f55b7d6c&gt; in &lt;module&gt;()
      3 print('Letter #2 is', letters[1])
      4 print('Letter #3 is', letters[2])
----&gt; 5 print('Letter #4 is', letters[3])

IndexError: list index out of range</code></pre>
</div>
<p>Here, Python is telling us that there is an <code>IndexError</code>
in our code, meaning we tried to access a list index that did not
exist.</p>
</section><section><h2 class="section-heading" id="file-errors">File Errors<a class="anchor" aria-label="anchor" href="#file-errors"></a>
</h2>
<hr class="half-width">
<p>The last type of error we’ll cover today are the most common type of
error when using Python with data, those associated with reading and
writing files: <code>FileNotFoundError</code>. If you try to read a file
that does not exist, you will receive a <code>FileNotFoundError</code>
telling you so. If you attempt to write to a file that was opened
read-only, Python 3 returns an <code>UnsupportedOperationError</code>.
More generally, problems with input and output manifest as
<code>OSError</code>s, which may show up as a more specific subclass;
you can see <a href="https://docs.python.org/3/library/exceptions.html#os-exceptions" class="external-link">the
list in the Python docs</a>. They all have a unique UNIX
<code>errno</code>, which is you can see in the error message.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>file_handle <span class="op">=</span> <span class="bu">open</span>(<span class="st">'myfile.txt'</span>, <span class="st">'r'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
FileNotFoundError                         Traceback (most recent call last)
&lt;ipython-input-14-f6e1ac4aee96&gt; in &lt;module&gt;()
----&gt; 1 file_handle = open('myfile.txt', 'r')

FileNotFoundError: [Errno 2] No such file or directory: 'myfile.txt'</code></pre>
</div>
<p>One reason for receiving this error is that you specified an
incorrect path to the file. For example, if I am currently in a folder
called <code>myproject</code>, and I have a file in
<code>myproject/writing/myfile.txt</code>, but I try to open
<code>myfile.txt</code>, this will fail. The correct path would be
<code>writing/myfile.txt</code>. It is also possible that the file name
or its path contains a typo. There may also be specific settings based
on your organization if you are using shared, networked, or cloud-based
drives. It is best to check with your IT administrators if you are still
encountering issues reading in a file after troubleshooting.</p>
<p>A related issue can occur if you use the “read” flag instead of the
“write” flag. Python will not give you an error if you try to open a
file for writing when the file does not exist. However, if you meant to
open a file for reading, but accidentally opened it for writing, and
then try to read from it, you will get an
<code>UnsupportedOperation</code> error telling you that the file was
not opened for reading:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>file_handle <span class="op">=</span> <span class="bu">open</span>(<span class="st">'myfile.txt'</span>, <span class="st">'w'</span>)</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>file_handle.read()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
UnsupportedOperation                      Traceback (most recent call last)
&lt;ipython-input-15-b846479bc61f&gt; in &lt;module&gt;()
      1 file_handle = open('myfile.txt', 'w')
----&gt; 2 file_handle.read()

UnsupportedOperation: not readable</code></pre>
</div>
<p>If you are getting a read or write error on file or folder that you
are able to open and/or edit with other programs, you may need to
contact an IT administrator to check the permissions granted to you and
any programs you are using.</p>
<p>These are the most common errors with files, though many others
exist. If you get an error that you’ve never seen before, searching the
Internet for that error type often reveals common reasons why you might
get that error.</p>
<div id="identifying-syntax-errors" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="identifying-syntax-errors" class="callout-inner">
<h3 class="callout-title">Identifying Syntax Errors</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below, and (without running it) try to identify what
the errors are.</li>
<li>Run the code, and read the error message. Is it a
<code>SyntaxError</code> or an <code>IndentationError</code>?</li>
<li>Fix the error.</li>
<li>Repeat steps 2 and 3, until you have fixed all the errors.</li>
</ol>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="kw">def</span> another_function</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">'Syntax errors are annoying.'</span>)</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>   <span class="bu">print</span>(<span class="st">'But at least Python tells us about them!'</span>)</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">'So they are usually not too hard to fix.'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p><code>SyntaxError</code> for missing <code>():</code> at end of first
line, <code>IndentationError</code> for mismatch between second and
third lines. A fixed version is:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="kw">def</span> another_function():</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Syntax errors are annoying.'</span>)</span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'But at least Python tells us about them!'</span>)</span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'So they are usually not too hard to fix.'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="identifying-variable-name-errors" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="identifying-variable-name-errors" class="callout-inner">
<h3 class="callout-title">Identifying Variable Name Errors</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below, and (without running it) try to identify what
the errors are.</li>
<li>Run the code, and read the error message. What type of
<code>NameError</code> do you think this is? In other words, is it a
string with no quotes, a misspelled variable, or a variable that should
have been defined but was not?</li>
<li>Fix the error.</li>
<li>Repeat steps 2 and 3, until you have fixed all the errors.</li>
</ol>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>    <span class="co"># use a if the number is a multiple of 3, otherwise use b</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>    <span class="cf">if</span> (Number <span class="op">%</span> <span class="dv">3</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> a</span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">'b'</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="bu">print</span>(message)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>3 <code>NameError</code>s for <code>number</code> being misspelled,
for <code>message</code> not defined, and for <code>a</code> not being
in quotes.</p>
<p>Fixed version:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>message <span class="op">=</span> <span class="st">''</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>    <span class="co"># use a if the number is a multiple of 3, otherwise use b</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>    <span class="cf">if</span> (number <span class="op">%</span> <span class="dv">3</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">'a'</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">'b'</span></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="bu">print</span>(message)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="identifying-index-errors" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="identifying-index-errors" class="callout-inner">
<h3 class="callout-title">Identifying Index Errors</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below, and (without running it) try to identify what
the errors are.</li>
<li>Run the code, and read the error message. What type of error is
it?</li>
<li>Fix the error.</li>
</ol>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>seasons <span class="op">=</span> [<span class="st">'Spring'</span>, <span class="st">'Summer'</span>, <span class="st">'Fall'</span>, <span class="st">'Winter'</span>]</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'My favorite season is '</span>, seasons[<span class="dv">4</span>])</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p><code>IndexError</code>; the last entry is <code>seasons[3]</code>,
so <code>seasons[4]</code> doesn’t make sense. A fixed version is:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>seasons <span class="op">=</span> [<span class="st">'Spring'</span>, <span class="st">'Summer'</span>, <span class="st">'Fall'</span>, <span class="st">'Winter'</span>]</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'My favorite season is '</span>, seasons[<span class="op">-</span><span class="dv">1</span>])</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="a-final-note-about-correcting-errors">A Final Note About Correcting Errors<a class="anchor" aria-label="anchor" href="#a-final-note-about-correcting-errors"></a>
</h2>
<hr class="half-width">
<p>There are a lot of very helpful answers for many error messages,
however when working with official statistics, we need to also exercise
some caution. Be aware and be wary of any answers that ask you to
download a package from someone’s personal GitHub repository or other
file sharing service. Try to find the type of error first and understand
what the issue is before downloading anything claiming to fix the error.
If the error is the result of an issue with a version of a package,
check if there are any security vulnerabilities with that version, and
use a package manager to move between package versions.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>NULL</li>
</ul>
</div>
</div>
</div>
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/UNECE/ModernStats_Python/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/UNECE/ModernStats_Python/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/UNECE/ModernStats_Python/" class="external-link">Source</a></p>
				<p><a href="https://github.com/UNECE/ModernStats_Python/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.10" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://UNECE.github.io/ModernStats_Python/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://UNECE.github.io/ModernStats_Python/instructor/aio.html",
  "identifier": "https://UNECE.github.io/ModernStats_Python/instructor/aio.html",
  "dateCreated": "2023-03-06",
  "dateModified": "2024-12-12",
  "datePublished": "2024-12-12"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

